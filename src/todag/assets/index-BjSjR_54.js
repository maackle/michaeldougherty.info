var tp=Object.defineProperty;var ap=(e,r,n)=>r in e?tp(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var In=(e,r,n)=>ap(e,typeof r!="symbol"?r+"":r,n);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Ee(){}function Sh(e){return e()}function tu(){return Object.create(null)}function ge(e){e.forEach(Sh)}function Ch(e){return typeof e=="function"}function sr(e,r){return e!=e?r==r:e!==r||e&&typeof e=="object"||typeof e=="function"}function ip(e){return Object.keys(e).length===0}function Oh(e,...r){if(e==null){for(const t of r)t(void 0);return Ee}const n=e.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}function Tn(e){let r;return Oh(e,n=>r=n)(),r}function ir(e,r,n){e.$$.on_destroy.push(Oh(r,n))}const ks=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function P(e,r){e.appendChild(r)}function ue(e,r,n){e.insertBefore(r,n||null)}function oe(e){e.parentNode&&e.parentNode.removeChild(e)}function op(e,r){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(r)}function H(e){return document.createElement(e)}function We(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function or(e){return document.createTextNode(e)}function ie(){return or(" ")}function kr(){return or("")}function N(e,r,n,t){return e.addEventListener(r,n,t),()=>e.removeEventListener(r,n,t)}function Te(e){return function(r){return r.stopPropagation(),e.call(this,r)}}function w(e,r,n){n==null?e.removeAttribute(r):e.getAttribute(r)!==n&&e.setAttribute(r,n)}function sp(e){return Array.from(e.childNodes)}function au(e,r){r=""+r,e.data!==r&&(e.data=r)}function iu(e,r){e.value=r??""}function be(e,r,n,t){n==null?e.style.removeProperty(r):e.style.setProperty(r,n,"")}function te(e,r,n){e.classList.toggle(r,!!n)}function up(e,r,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(e,{detail:r,bubbles:n,cancelable:t})}let Mr;function Cr(e){Mr=e}function kh(){if(!Mr)throw new Error("Function called outside component initialization");return Mr}function Mh(e){kh().$$.on_mount.push(e)}function fp(){const e=kh();return(r,n,{cancelable:t=!1}={})=>{const a=e.$$.callbacks[r];if(a){const i=up(r,n,{cancelable:t});return a.slice().forEach(o=>{o.call(e,i)}),!i.defaultPrevented}return!0}}function cp(e,r){const n=e.$$.callbacks[r.type];n&&n.slice().forEach(t=>t.call(this,r))}const tr=[],Ke=[];let ar=[];const ou=[],dp=Promise.resolve();let Ts=!1;function lp(){Ts||(Ts=!0,dp.then(Ph))}function As(e){ar.push(e)}const An=new Set;let rr=0;function Ph(){if(rr!==0)return;const e=Mr;do{try{for(;rr<tr.length;){const r=tr[rr];rr++,Cr(r),hp(r.$$)}}catch(r){throw tr.length=0,rr=0,r}for(Cr(null),tr.length=0,rr=0;Ke.length;)Ke.pop()();for(let r=0;r<ar.length;r+=1){const n=ar[r];An.has(n)||(An.add(n),n())}ar.length=0}while(tr.length);for(;ou.length;)ou.pop()();Ts=!1,An.clear(),Cr(e)}function hp(e){if(e.fragment!==null){e.update(),ge(e.before_update);const r=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,r),e.after_update.forEach(As)}}function vp(e){const r=[],n=[];ar.forEach(t=>e.indexOf(t)===-1?r.push(t):n.push(t)),n.forEach(t=>t()),ar=r}const Wr=new Set;let Ye;function tn(){Ye={r:0,c:[],p:Ye}}function an(){Ye.r||ge(Ye.c),Ye=Ye.p}function he(e,r){e&&e.i&&(Wr.delete(e),e.i(r))}function ye(e,r,n,t){if(e&&e.o){if(Wr.has(e))return;Wr.add(e),Ye.c.push(()=>{Wr.delete(e),t&&(n&&e.d(1),t())}),e.o(r)}else t&&t()}function xe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function pp(e,r){e.d(1),r.delete(e.key)}function Dh(e,r){ye(e,1,1,()=>{r.delete(e.key)})}function Ms(e,r,n,t,a,i,o,s,u,c,f,d){let h=e.length,l=i.length,v=h;const p={};for(;v--;)p[e[v].key]=v;const g=[],_=new Map,b=new Map,T=[];for(v=l;v--;){const I=d(a,i,v),C=n(I);let O=o.get(C);O?T.push(()=>O.p(I,r)):(O=c(C,I),O.c()),_.set(C,g[v]=O),C in p&&b.set(C,Math.abs(v-p[C]))}const R=new Set,F=new Set;function A(I){he(I,1),I.m(s,f),o.set(I.key,I),f=I.first,l--}for(;h&&l;){const I=g[l-1],C=e[h-1],O=I.key,M=C.key;I===C?(f=I.first,h--,l--):_.has(M)?!o.has(O)||R.has(O)?A(I):F.has(M)?h--:b.get(O)>b.get(M)?(F.add(O),A(I)):(R.add(M),h--):(u(C,o),h--)}for(;h--;){const I=e[h];_.has(I.key)||u(I,o)}for(;l;)A(g[l-1]);return ge(T),g}function Dr(e){e&&e.c()}function ur(e,r,n){const{fragment:t,after_update:a}=e.$$;t&&t.m(r,n),As(()=>{const i=e.$$.on_mount.map(Sh).filter(Ch);e.$$.on_destroy?e.$$.on_destroy.push(...i):ge(i),e.$$.on_mount=[]}),a.forEach(As)}function fr(e,r){const n=e.$$;n.fragment!==null&&(vp(n.after_update),ge(n.on_destroy),n.fragment&&n.fragment.d(r),n.on_destroy=n.fragment=null,n.ctx=[])}function gp(e,r){e.$$.dirty[0]===-1&&(tr.push(e),lp(),e.$$.dirty.fill(0)),e.$$.dirty[r/31|0]|=1<<r%31}function Lr(e,r,n,t,a,i,o=null,s=[-1]){const u=Mr;Cr(e);const c=e.$$={fragment:null,ctx:[],props:i,update:Ee,not_equal:a,bound:tu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(u?u.$$.context:[])),callbacks:tu(),dirty:s,skip_bound:!1,root:r.target||u.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,r.props||{},(d,h,...l)=>{const v=l.length?l[0]:h;return c.ctx&&a(c.ctx[d],c.ctx[d]=v)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](v),f&&gp(e,d)),h}):[],c.update(),f=!0,ge(c.before_update),c.fragment=t?t(c.ctx):!1,r.target){if(r.hydrate){const d=sp(r.target);c.fragment&&c.fragment.l(d),d.forEach(oe)}else c.fragment&&c.fragment.c();r.intro&&he(e.$$.fragment),ur(e,r.target,r.anchor),Ph()}Cr(u)}class Nr{constructor(){In(this,"$$");In(this,"$$set")}$destroy(){fr(this,1),this.$destroy=Ee}$on(r,n){if(!Ch(n))return Ee;const t=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return t.push(n),()=>{const a=t.indexOf(n);a!==-1&&t.splice(a,1)}}$set(r){this.$$set&&!ip(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}const _p="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_p);const nr=[];function Ps(e,r=Ee){let n;const t=new Set;function a(s){if(sr(e,s)&&(e=s,n)){const u=!nr.length;for(const c of t)c[1](),nr.push(c,e);if(u){for(let c=0;c<nr.length;c+=2)nr[c][0](nr[c+1]);nr.length=0}}}function i(s){a(s(e))}function o(s,u=Ee){const c=[s,u];return t.add(c),t.size===1&&(n=r(a,i)||Ee),s(e),()=>{t.delete(c),t.size===0&&n&&(n(),n=null)}}return{set:a,update:i,subscribe:o}}class Jr{constructor(){this.edges=new Map,this.nodes=new Set}addNode(r){this.nodes.has(r)||(this.nodes.add(r),this.edges.set(r,new Set))}removeNode(r){if(this.nodes.has(r)){this.nodes.delete(r),this.edges.delete(r);for(const[n,t]of this.edges.entries())t.delete(r)}}addEdge(r,n){if(r===n)return!1;this.nodes.has(r)||this.addNode(r),this.nodes.has(n)||this.addNode(n);const t=this.edges.get(n);return t&&t.has(r)||this.wouldCreateCycle(r,n)?!1:(this.edges.get(n).add(r),!0)}removeEdge(r,n){const t=this.edges.get(n);t&&t.delete(r)}wouldCreateCycle(r,n){return this.canReachForward(n,r)}canReachForward(r,n){if(r===n)return!0;const t=new Set,a=[r];for(;a.length>0;){const i=a.pop();if(t.has(i))continue;t.add(i);const o=this.getDependents(i);for(const s of o){if(s===n)return!0;t.has(s)||a.push(s)}}return!1}canReach(r,n){if(r===n)return!0;const t=new Set,a=[r];for(;a.length>0;){const i=a.pop();if(t.has(i))continue;t.add(i);const o=this.edges.get(i);if(o)for(const s of o){if(s===n)return!0;t.has(s)||a.push(s)}}return!1}getDependencies(r){return this.edges.get(r)||new Set}getDependents(r){const n=new Set;for(const[t,a]of this.edges.entries())a.has(r)&&n.add(t);return n}getAllEdges(){const r=[];for(const[n,t]of this.edges.entries())for(const a of t)r.push([a,n]);return r}topologicalSort(){const r=new Map;for(const a of this.nodes)r.set(a,0);for(const[a,i]of this.edges.entries())for(const o of i)r.set(a,(r.get(a)||0)+1);const n=[];for(const[a,i]of r.entries())i===0&&n.push(a);const t=[];for(;n.length>0;){const a=n.shift();t.push(a);const i=this.getDependents(a);for(const o of i){const s=r.get(o)-1;r.set(o,s),s===0&&n.push(o)}}return t.length!==this.nodes.size?(console.warn("Cycle detected in DAG"),Array.from(this.nodes)):t}canMoveTo(r,n,t){const a=this.getDependencies(r),i=this.getDependents(r);for(const o of a){const s=t.indexOf(o);if(s!==-1&&s>=n)return!1}for(const o of i){const s=t.indexOf(o);if(s!==-1&&s<n)return!1}return!0}}const Lh="todag-todos",Nh="todag-dag",Fh="todag-viewmode",jh="todag-nextid";let Pr=1;function bp(){return`todo-${Pr++}`}function yp(){const e=localStorage.getItem(jh);e&&(Pr=parseInt(e,10))}function Gh(){localStorage.setItem(jh,Pr.toString())}function mp(e){const r=[];for(const[n,t]of e.edges.entries())for(const a of t)r.push([a,n]);return{nodes:Array.from(e.nodes),edges:r}}function wp(e){const r=new Jr;return e.nodes&&e.nodes.forEach(n=>r.addNode(n)),e.edges&&e.edges.forEach(([n,t])=>{r.addEdge(n,t)}),r}function qp(){try{const e=localStorage.getItem(Lh),r=e?JSON.parse(e):[],n=localStorage.getItem(Nh),t=n?wp(JSON.parse(n)):new Jr,i=localStorage.getItem(Fh)||"list";if(yp(),r.length>0){const o=Math.max(...r.map(s=>{const u=s.id.match(/^todo-(\d+)$/);return u?parseInt(u[1],10):0}));o>=Pr&&(Pr=o+1)}return{todos:r,dag:t,viewMode:i}}catch(e){return console.error("Error loading state from localStorage:",e),{todos:[],dag:new Jr,viewMode:"list"}}}function Ep(e,r,n){try{localStorage.setItem(Lh,JSON.stringify(e)),localStorage.setItem(Nh,JSON.stringify(mp(r))),localStorage.setItem(Fh,n),Gh()}catch(t){console.error("Error saving state to localStorage:",t)}}const Ds=qp();function Rp(e=""){const r={id:bp(),text:e,completed:!1,createdAt:Date.now()};return Gh(),r}const le=Ps(Ds.todos),ce=Ps(Ds.dag),Or=Ps(Ds.viewMode);let Sn=null;function Ls(){Sn&&clearTimeout(Sn),Sn=setTimeout(()=>{const e=Tn(le),r=Tn(ce),n=Tn(Or);Ep(e,r,n)},100)}le.subscribe(()=>Ls());ce.subscribe(()=>Ls());Or.subscribe(()=>Ls());const Me={add(e){const r=Rp(e);le.update(n=>[...n,r]),ce.update(n=>(n.addNode(r.id),n)),ce.update(n=>n)},remove(e){le.update(r=>r.filter(n=>n.id!==e)),ce.update(r=>(r.removeNode(e),r)),ce.update(r=>r)},update(e,r){le.update(n=>n.map(t=>t.id===e?{...t,...r}:t))},toggleComplete(e){le.update(r=>r.map(n=>n.id===e?{...n,completed:!n.completed}:n))},clearCompleted(){le.update(e=>(e.filter(n=>n.completed).map(n=>n.id).forEach(n=>{ce.update(t=>(t.removeNode(n),t))}),ce.update(n=>n),e.filter(n=>!n.completed)))},deleteAll(){le.set([]),ce.set(new Jr)}},Zr={addDependency(e,r){ce.update(n=>{if(!n.addEdge(e,r)){const a=n.edges.get(r);a&&a.has(e)?console.warn(`Cannot add dependency ${e} -> ${r}: duplicate edge`):n.wouldCreateCycle(e,r)?console.warn(`Cannot add dependency ${e} -> ${r}: would create cycle`):console.warn(`Cannot add dependency ${e} -> ${r}: unknown reason`)}return n}),ce.update(n=>n)},removeDependency(e,r){ce.update(n=>(n.removeEdge(e,r),n)),ce.update(n=>n)}};function Ip(e){let r,n,t,a;return{c(){r=H("input"),w(r,"type","text"),w(r,"class","todo-text svelte-y47vh2"),r.value=n=e[0].text,w(r,"placeholder","Enter todo..."),te(r,"completed",e[0].completed)},m(i,o){ue(i,r,o),t||(a=N(r,"input",e[27]),t=!0)},p(i,o){o&1&&n!==(n=i[0].text)&&r.value!==n&&(r.value=n),o&1&&te(r,"completed",i[0].completed)},d(i){i&&oe(r),t=!1,a()}}}function Tp(e){let r,n,t,a;return{c(){r=H("textarea"),w(r,"class","todo-text svelte-y47vh2"),r.value=n=e[0].text,w(r,"placeholder","Enter todo..."),w(r,"rows","1"),te(r,"completed",e[0].completed)},m(i,o){ue(i,r,o),e[25](r),t||(a=N(r,"input",e[26]),t=!0)},p(i,o){o&1&&n!==(n=i[0].text)&&(r.value=n),o&1&&te(r,"completed",i[0].completed)},d(i){i&&oe(r),e[25](null),t=!1,a()}}}function su(e){let r,n,t,a,i,o,s,u,c,f,d,h;return{c(){r=H("div"),n=H("div"),t=H("span"),t.textContent="blocked by",a=ie(),i=H("span"),o=or(e[9]),s=ie(),u=H("div"),c=H("span"),c.textContent="unblocks",f=ie(),d=H("span"),h=or(e[8]),w(t,"class","overlay-label svelte-y47vh2"),w(i,"class","overlay-count-blocked svelte-y47vh2"),w(n,"class","overlay-section svelte-y47vh2"),te(n,"hidden",e[9]===0),w(c,"class","overlay-label svelte-y47vh2"),w(d,"class","overlay-count-unblocks svelte-y47vh2"),w(u,"class","overlay-section svelte-y47vh2"),te(u,"hidden",e[8]===0),w(r,"class","dependency-overlay svelte-y47vh2")},m(l,v){ue(l,r,v),P(r,n),P(n,t),P(n,a),P(n,i),P(i,o),P(r,s),P(r,u),P(u,c),P(u,f),P(u,d),P(d,h)},p(l,v){v&512&&au(o,l[9]),v&512&&te(n,"hidden",l[9]===0),v&256&&au(h,l[8]),v&256&&te(u,"hidden",l[8]===0)},d(l){l&&oe(r)}}}function Ap(e){let r,n,t,a,i,o,s,u,c,f,d,h,l,v;function p(T,R){return T[3]?Tp:Ip}let g=p(e),_=g(e),b=e[4]&&(e[9]>0||e[8]>0)&&su(e);return{c(){r=H("div"),n=H("div"),n.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16"><circle cx="8" cy="8" r="4" fill="currentColor" opacity="0.3"></circle><path d="M 4 8 L 12 8 M 8 4 L 12 8 L 8 12" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>',t=ie(),a=H("div"),a.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16"><circle cx="4" cy="4" r="1.5" fill="currentColor"></circle><circle cx="4" cy="8" r="1.5" fill="currentColor"></circle><circle cx="4" cy="12" r="1.5" fill="currentColor"></circle><circle cx="12" cy="4" r="1.5" fill="currentColor"></circle><circle cx="12" cy="8" r="1.5" fill="currentColor"></circle><circle cx="12" cy="12" r="1.5" fill="currentColor"></circle></svg>',i=ie(),o=H("div"),s=H("input"),c=ie(),_.c(),f=ie(),b&&b.c(),d=ie(),h=H("button"),h.textContent="Ã—",w(n,"class","arrow-zone svelte-y47vh2"),w(n,"role","button"),w(n,"tabindex","0"),w(n,"title","Click and drag to create dependency"),te(n,"hovered",e[7]),w(a,"class","drag-handle svelte-y47vh2"),w(a,"title","Drag to reorder"),w(s,"type","checkbox"),s.checked=u=e[0].completed,w(s,"class","svelte-y47vh2"),w(h,"class","delete-btn svelte-y47vh2"),w(h,"title","Delete todo"),w(o,"class","card-content svelte-y47vh2"),w(r,"class","todo-card svelte-y47vh2"),be(r,"pointer-events","auto"),te(r,"dragging",e[1]),te(r,"drag-target",e[2])},m(T,R){ue(T,r,R),P(r,n),P(r,t),P(r,a),P(r,i),P(r,o),P(o,s),P(o,c),_.m(o,null),P(o,f),b&&b.m(o,null),P(o,d),P(o,h),l||(v=[N(n,"mousedown",e[12]),N(n,"touchstart",e[13]),N(n,"mouseenter",e[21]),N(n,"mouseleave",e[22]),N(n,"touchenter",e[14]),N(n,"touchleave",e[15]),N(a,"touchstart",e[23]),N(s,"change",e[24]),N(h,"click",e[28]),N(r,"mouseenter",e[16]),N(r,"mouseleave",e[17])],l=!0)},p(T,[R]){R&128&&te(n,"hovered",T[7]),R&1&&u!==(u=T[0].completed)&&(s.checked=u),g===(g=p(T))&&_?_.p(T,R):(_.d(1),_=g(T),_&&(_.c(),_.m(o,f))),T[4]&&(T[9]>0||T[8]>0)?b?b.p(T,R):(b=su(T),b.c(),b.m(o,d)):b&&(b.d(1),b=null),R&2&&te(r,"dragging",T[1]),R&4&&te(r,"drag-target",T[2])},i:Ee,o:Ee,d(T){T&&oe(r),_.d(),b&&b.d(),l=!1,ge(v)}}}function Sp(e,r,n){let t,a,{todo:i}=r,{isDragging:o=!1}=r,{isDragTarget:s=!1}=r,{dependencies:u=new Set}=r,{dependents:c=new Set}=r;const f=fp();let{isDrawingArrow:d=!1}=r,{useTextarea:h=!1}=r,{isHovered:l=!1}=r,{onDragStart:v=null}=r,p;function g(){p&&h&&(n(6,p.style.height="auto",p),n(6,p.style.height=p.scrollHeight+"px",p))}let _=!1;function b(k){k.stopPropagation(),k.preventDefault();const K=k.currentTarget.getBoundingClientRect(),$=K.left+K.width/2,qe=K.top+K.height/2;f("arrowStart",{todoId:i.id,x:$,y:qe})}function T(k){k.touches&&k.touches.length===1&&(k.stopPropagation(),k.preventDefault(),b(k))}function R(){d&&f("arrowTarget",{todoId:i.id})}function F(){d&&f("arrowTarget",{todoId:null})}function A(){f("mouseenter"),d&&f("arrowTarget",{todoId:i.id})}function I(){f("mouseleave"),d&&f("arrowTarget",{todoId:null})}const C=()=>n(7,_=!0),O=()=>n(7,_=!1),M=k=>{v&&k.touches&&k.touches.length===1&&(k.stopPropagation(),k.preventDefault(),v(k))},m=()=>f("toggle",{id:i.id});function B(k){Ke[k?"unshift":"push"](()=>{p=k,n(6,p)})}const W=k=>{f("update",{id:i.id,text:k.target.value}),g()},re=k=>f("update",{id:i.id,text:k.target.value}),x=()=>f("delete",{id:i.id});return e.$$set=k=>{"todo"in k&&n(0,i=k.todo),"isDragging"in k&&n(1,o=k.isDragging),"isDragTarget"in k&&n(2,s=k.isDragTarget),"dependencies"in k&&n(18,u=k.dependencies),"dependents"in k&&n(19,c=k.dependents),"isDrawingArrow"in k&&n(20,d=k.isDrawingArrow),"useTextarea"in k&&n(3,h=k.useTextarea),"isHovered"in k&&n(4,l=k.isHovered),"onDragStart"in k&&n(5,v=k.onDragStart)},e.$$.update=()=>{e.$$.dirty&9&&i.text&&h&&g(),e.$$.dirty&262144&&n(9,t=u.size),e.$$.dirty&524288&&n(8,a=c.size)},[i,o,s,h,l,v,p,_,a,t,f,g,b,T,R,F,A,I,u,c,d,C,O,M,m,B,W,re,x]}class Bh extends Nr{constructor(r){super(),Lr(this,r,Sp,Ap,sr,{todo:0,isDragging:1,isDragTarget:2,dependencies:18,dependents:19,isDrawingArrow:20,useTextarea:3,isHovered:4,onDragStart:5})}}const{Map:Cp}=ks;function Cn(e){const r=e.slice(),n=r[0].startX;r[24]=n;const t=r[0].startY;r[25]=t;const a=r[0].currentX;r[26]=a;const i=r[0].currentY;return r[27]=i,r}function uu(e,r,n){const t=e.slice();t[28]=r[n];const a=t[1]&&t[1][0]===t[28].fromId&&t[1][1]===t[28].toId;t[29]=a;const i=t[7]&&t[7][0]===t[28].fromId&&t[7][1]===t[28].toId;t[30]=i;const o=t[2]&&(t[28].fromId===t[2]||t[28].toId===t[2]);return t[31]=o,t}function fu(e,r){let n,t,a,i,o,s,u,c;function f(...p){return r[16](r[29],r[28],...p)}function d(){return r[17](r[29],r[28])}function h(...p){return r[18](r[28],r[29],...p)}function l(...p){return r[19](r[28],r[29],...p)}function v(){return r[20](r[28])}return{key:e,first:null,c(){n=We("g"),t=We("path"),w(t,"d",a=Qr(r[28].fromX,r[28].fromY,r[28].toX,r[28].toY)),w(t,"stroke",i=r[29]?"#ff6b6b":"#4a90e2"),w(t,"stroke-width","12"),w(t,"fill","none"),w(t,"opacity",o=r[30]||r[29]||r[31]?"1":"0.5"),w(t,"marker-end",s=r[29]?"url(#arrowhead-selected)":"url(#arrowhead)"),be(t,"cursor","pointer"),w(t,"class","svelte-19mf985"),w(n,"class","arrow-group svelte-19mf985"),te(n,"selected",r[29]),this.first=n},m(p,g){ue(p,n,g),P(n,t),u||(c=[N(t,"click",Te(f)),N(t,"dblclick",Te(d)),N(t,"touchstart",Te(h)),N(t,"touchend",Te(l)),N(t,"mouseenter",v),N(t,"mouseleave",r[21])],u=!0)},p(p,g){r=p,g[0]&4096&&a!==(a=Qr(r[28].fromX,r[28].fromY,r[28].toX,r[28].toY))&&w(t,"d",a),g[0]&4098&&i!==(i=r[29]?"#ff6b6b":"#4a90e2")&&w(t,"stroke",i),g[0]&4230&&o!==(o=r[30]||r[29]||r[31]?"1":"0.5")&&w(t,"opacity",o),g[0]&4098&&s!==(s=r[29]?"url(#arrowhead-selected)":"url(#arrowhead)")&&w(t,"marker-end",s),g[0]&4098&&te(n,"selected",r[29])},d(p){p&&oe(n),u=!1,ge(c)}}}function cu(e){let r,n;return{c(){r=We("path"),w(r,"d",n=Qr(e[24],e[25],e[26],e[27])),w(r,"stroke","#4a90e2"),w(r,"stroke-width","2"),w(r,"stroke-dasharray","5,5"),w(r,"fill","none"),w(r,"opacity","0.7")},m(t,a){ue(t,r,a)},p(t,a){a[0]&1&&n!==(n=Qr(t[24],t[25],t[26],t[27]))&&w(r,"d",n)},d(t){t&&oe(r)}}}function Op(e){let r,n,t=[],a=new Cp,i,o=xe(e[12]);const s=c=>c[28].fromId+"-"+c[28].toId;for(let c=0;c<o.length;c+=1){let f=uu(e,o,c),d=s(f);a.set(d,t[c]=fu(d,f))}let u=e[0]&&e[0].currentX!==void 0&&e[0].currentY!==void 0&&cu(Cn(e));return{c(){r=H("div"),n=We("svg");for(let c=0;c<t.length;c+=1)t[c].c();i=kr(),u&&u.c(),w(n,"class","arrow-svg svelte-19mf985"),be(n,"overflow","visible"),w(r,"class","arrow-container svelte-19mf985")},m(c,f){ue(c,r,f),P(r,n);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(n,null);P(n,i),u&&u.m(n,null),e[22](n),e[23](r)},p(c,f){f[0]&8094&&(o=xe(c[12]),t=Ms(t,f,s,1,c,o,a,n,pp,fu,i,uu)),c[0]&&c[0].currentX!==void 0&&c[0].currentY!==void 0?u?u.p(Cn(c),f):(u=cu(Cn(c)),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:Ee,o:Ee,d(c){c&&oe(r);for(let f=0;f<t.length;f+=1)t[f].d();u&&u.d(),e[22](null),e[23](null)}}}const du=300;function kp(e,r){const n=[];if(!r||r.size===0||e.length===0)return n;for(const[t,a]of e){const i=r.get(t),o=r.get(a);if(i&&o){const s=i.left,u=i.top+i.height/2,c=o.left,f=o.top+o.height/2;n.push({fromId:t,toId:a,fromX:s,fromY:u,toX:c,toY:f})}}return n}function Qr(e,r,n,t){const o=Math.pow(Math.abs(r-t)*20,.5),s=Math.min(e,n)-o,u=(r+t)/2;return`M ${e} ${r} Q ${s} ${u} ${n} ${t}`}function Mp(e,r,n){let t,{edges:a=[]}=r,{sortedTodos:i=[]}=r,{arrowDrawing:o=null}=r,{cardPositions:s=new Map}=r,{selectedEdge:u=null}=r,{hoveredCardId:c=null}=r,{onEdgeSelect:f=null}=r,{onEdgeDelete:d=null}=r,h,l,v=null,p=0,g=null,_=!1,b=!1;const T=(m,B,W)=>{if(b){n(11,b=!1);return}m?f&&f(null):f&&f([B.fromId,B.toId])},R=(m,B)=>{m?d&&d([B.fromId,B.toId]):f&&f([B.fromId,B.toId])},F=(m,B,W)=>{const re=Date.now(),x=[m.fromId,m.toId],k=`${m.fromId}-${m.toId}`,K=g?`${g[0]}-${g[1]}`:null;g&&k===K&&re-p<du?(n(11,b=!0),_?d&&d(x):f&&f(x),n(8,p=0),n(9,g=null),n(10,_=!1)):(n(8,p=re),n(9,g=x),n(10,_=B))},A=(m,B,W)=>{const re=[m.fromId,m.toId];`${m.fromId}${m.toId}`;const x=p,k=g;setTimeout(()=>{p===x&&g&&k&&g[0]===k[0]&&g[1]===k[1]&&(n(11,b=!0),B?f&&f(null):f&&f(re),n(8,p=0),n(9,g=null),n(10,_=!1))},du)},I=m=>n(7,v=[m.fromId,m.toId]),C=()=>n(7,v=null);function O(m){Ke[m?"unshift":"push"](()=>{h=m,n(5,h)})}function M(m){Ke[m?"unshift":"push"](()=>{l=m,n(6,l)})}return e.$$set=m=>{"edges"in m&&n(13,a=m.edges),"sortedTodos"in m&&n(14,i=m.sortedTodos),"arrowDrawing"in m&&n(0,o=m.arrowDrawing),"cardPositions"in m&&n(15,s=m.cardPositions),"selectedEdge"in m&&n(1,u=m.selectedEdge),"hoveredCardId"in m&&n(2,c=m.hoveredCardId),"onEdgeSelect"in m&&n(3,f=m.onEdgeSelect),"onEdgeDelete"in m&&n(4,d=m.onEdgeDelete)},e.$$.update=()=>{e.$$.dirty[0]&40960&&n(12,t=kp(a,s))},[o,u,c,f,d,h,l,v,p,g,_,b,t,a,i,s,T,R,F,A,I,C,O,M]}class Pp extends Nr{constructor(r){super(),Lr(this,r,Mp,Op,sr,{edges:13,sortedTodos:14,arrowDrawing:0,cardPositions:15,selectedEdge:1,hoveredCardId:2,onEdgeSelect:3,onEdgeDelete:4},null,[-1,-1])}}const{Map:Dp}=ks;function lu(e,r,n){const t=e.slice();return t[43]=r[n],t[45]=n,t}function hu(e,r){let n,t,a,i,o,s,u;function c(){return r[26](r[43])}t=new Bh({props:{todo:r[43],isDragging:r[3]===r[43].id,isDragTarget:r[4]===r[45],isDrawingArrow:r[7],isHovered:r[6]===r[43].id,dependencies:r[2].getDependencies(r[43].id),dependents:r[2].getDependents(r[43].id),onDragStart:r[12]}}),t.$on("arrowStart",r[16]),t.$on("arrowTarget",r[17]),t.$on("mouseenter",c),t.$on("mouseleave",r[27]),t.$on("toggle",r[28]),t.$on("update",r[29]),t.$on("delete",r[30]);function f(...l){return r[31](r[43],...l)}function d(...l){return r[32](r[45],...l)}function h(...l){return r[33](r[45],...l)}return{key:e,first:null,c(){n=H("div"),Dr(t.$$.fragment),a=ie(),w(n,"class","todo-wrapper svelte-1dththd"),w(n,"draggable","true"),w(n,"data-todo-id",i=r[43].id),w(n,"role","listitem"),te(n,"drag-over",r[4]===r[45]),this.first=n},m(l,v){ue(l,n,v),ur(t,n,null),P(n,a),o=!0,s||(u=[N(n,"dragstart",Te(f)),N(n,"dragover",Te(d)),N(n,"dragleave",r[14]),N(n,"drop",Te(h))],s=!0)},p(l,v){r=l;const p={};v[0]&2&&(p.todo=r[43]),v[0]&10&&(p.isDragging=r[3]===r[43].id),v[0]&18&&(p.isDragTarget=r[4]===r[45]),v[0]&128&&(p.isDrawingArrow=r[7]),v[0]&66&&(p.isHovered=r[6]===r[43].id),v[0]&6&&(p.dependencies=r[2].getDependencies(r[43].id)),v[0]&6&&(p.dependents=r[2].getDependents(r[43].id)),t.$set(p),(!o||v[0]&2&&i!==(i=r[43].id))&&w(n,"data-todo-id",i),(!o||v[0]&18)&&te(n,"drag-over",r[4]===r[45])},i(l){o||(he(t.$$.fragment,l),o=!0)},o(l){ye(t.$$.fragment,l),o=!1},d(l){l&&oe(n),fr(t),s=!1,ge(u)}}}function Lp(e){let r,n,t=[],a=new Dp,i,o,s,u,c,f=xe(e[1]);const d=h=>h[43].id;for(let h=0;h<f.length;h+=1){let l=lu(e,f,h),v=d(l);a.set(v,t[h]=hu(v,l))}return o=new Pp({props:{edges:e[0],sortedTodos:e[1],arrowDrawing:e[5],cardPositions:e[10],selectedEdge:e[8],hoveredCardId:e[6],onEdgeSelect:e[22],onEdgeDelete:e[23]}}),{c(){r=H("div"),n=H("div");for(let h=0;h<t.length;h+=1)t[h].c();i=ie(),Dr(o.$$.fragment),w(n,"class","todo-list svelte-1dththd"),w(r,"class","list-view svelte-1dththd"),w(r,"role","application"),be(r,"touch-action","pan-y")},m(h,l){ue(h,r,l),P(r,n);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(n,null);P(r,i),ur(o,r,null),e[35](r),s=!0,u||(c=[N(window,"mousemove",e[18]),N(window,"mouseup",e[20]),N(window,"touchmove",e[19]),N(window,"touchend",e[21]),N(window,"keydown",e[24]),N(r,"mouseup",e[20]),N(r,"touchend",e[21]),N(r,"click",e[34])],u=!0)},p(h,l){l[0]&260318&&(f=xe(h[1]),tn(),t=Ms(t,l,d,1,h,f,a,n,Dh,hu,null,lu),an());const v={};l[0]&1&&(v.edges=h[0]),l[0]&2&&(v.sortedTodos=h[1]),l[0]&32&&(v.arrowDrawing=h[5]),l[0]&1024&&(v.cardPositions=h[10]),l[0]&256&&(v.selectedEdge=h[8]),l[0]&64&&(v.hoveredCardId=h[6]),o.$set(v)},i(h){if(!s){for(let l=0;l<f.length;l+=1)he(t[l]);he(o.$$.fragment,h),s=!0}},o(h){for(let l=0;l<t.length;l+=1)ye(t[l]);ye(o.$$.fragment,h),s=!1},d(h){h&&oe(r);for(let l=0;l<t.length;l+=1)t[l].d();fr(o),e[35](null),u=!1,ge(c)}}}function Np(e,r,n){let t,a,i,o;ir(e,le,q=>n(25,i=q)),ir(e,ce,q=>n(2,o=q));let s=null,u=null,c=null,f=null,d=!1,h=null,l=null;function v(q,D){d||(n(3,s=D),q.dataTransfer&&(q.dataTransfer.effectAllowed="move",q.dataTransfer.setData("text/plain",D)))}function p(q){var Z,Y,V;if(d)return;const D=(V=(Y=(Z=q.currentTarget)==null?void 0:Z.closest("[data-todo-id]"))==null?void 0:Y.dataset)==null?void 0:V.todoId;if(D){const y=t.findIndex(E=>E.id===D);y!==-1&&q.touches&&q.touches.length===1&&(l={todoId:D,startY:q.touches[0].clientY,currentY:q.touches[0].clientY,startIndex:y},n(3,s=D))}}function g(q){if(l&&q.touches&&q.touches.length===1&&(l.currentY=q.touches[0].clientY,x)){const D=x.querySelectorAll(".todo-wrapper");let Z=l.startIndex;D.forEach((Y,V)=>{const y=Y.getBoundingClientRect(),E=y.top+y.height/2;l.currentY<E&&V<l.startIndex?Z=V:l.currentY>E&&V>l.startIndex&&(Z=V+1)}),Z!==u&&n(4,u=Z)}}function _(){if(l){const q=u!==null?u:l.startIndex;if(q!==l.startIndex){const D=t.map(Y=>Y.id),Z=D.indexOf(l.todoId);if(Z!==-1&&Z!==q&&o.canMoveTo(l.todoId,q,D)){const Y=[...t],[V]=Y.splice(Z,1);Y.splice(q,0,V),le.update(y=>{const E=new Map(y.map(S=>[S.id,S]));return Y.map(S=>E.get(S.id)).filter(Boolean)})}}l=null,n(4,u=null),n(3,s=null)}}function b(q,D){q.preventDefault(),q.dataTransfer.dropEffect="move",n(4,u=D)}function T(){n(4,u=null)}function R(q,D){if(q.preventDefault(),!s)return;const Z=t.map(V=>V.id),Y=Z.indexOf(s);if(Y===-1||Y===D){n(4,u=null),n(3,s=null);return}if(o.canMoveTo(s,D,Z)){const V=[...t],[y]=V.splice(Y,1);V.splice(D,0,y),le.update(E=>{const G=new Map(E.map(L=>[L.id,L]));return V.map(L=>G.get(L.id)).filter(Boolean)})}n(4,u=null),n(3,s=null)}function F(q){if(!x)return;n(3,s=null),n(4,u=null),n(7,d=!0);const D=x.getBoundingClientRect();n(5,c={fromId:q.detail.todoId,startX:q.detail.x-D.left,startY:q.detail.y-D.top,targetId:null,currentX:q.detail.x-D.left,currentY:q.detail.y-D.top})}function A(q){c&&n(5,c.targetId=q.detail.todoId,c)}function I(){if(c&&c.targetId&&c.fromId!==c.targetId){const q=c.fromId,D=c.targetId,Z=i,Y=Z.findIndex(y=>y.id===q),V=Z.findIndex(y=>y.id===D);if(Y>V){const y=[...Z],[E]=y.splice(Y,1);y.splice(V,0,E),le.update(()=>y)}Zr.addDependency(q,D)}n(5,c=null),n(7,d=!1)}function C(q){if(c&&x){const D=x.getBoundingClientRect();n(5,c.currentX=q.clientX-D.left,c),n(5,c.currentY=q.clientY-D.top,c)}}function O(q){if(q.preventDefault(),c&&x&&q.touches&&q.touches.length===1){const D=x.getBoundingClientRect();n(5,c.currentX=q.touches[0].clientX-D.left,c),n(5,c.currentY=q.touches[0].clientY-D.top,c);const Z=q.touches[0].clientX,Y=q.touches[0].clientY,V=document.elementFromPoint(Z,Y),y=V==null?void 0:V.closest("[data-todo-id]");if(y){const E=y.dataset.todoId;E&&c.fromId!==E?n(5,c.targetId=E,c):n(5,c.targetId=null,c)}else n(5,c.targetId=null,c)}l&&q.touches&&q.touches.length===1&&g(q)}function M(){c&&I()}function m(q){c&&I(),l&&_()}function B(q){n(8,h=q)}function W(){h&&(Zr.removeDependency(h[0],h[1]),n(8,h=null))}function re(q){(q.key==="Backspace"||q.key==="Delete")&&h&&(q.preventDefault(),W())}let x,k=new Map,K;function $(){if(!x)return;const q=new Map;t.forEach(D=>{const Z=x.querySelector(`[data-todo-id="${D.id}"]`);if(Z){const Y=Z.getBoundingClientRect(),V=x.getBoundingClientRect();q.set(D.id,{left:Y.left-V.left,top:Y.top-V.top,right:Y.right-V.left,bottom:Y.bottom-V.top,width:Y.width,height:Y.height})}}),n(10,k=new Map(q))}Mh(()=>{K=setInterval($,100),$();const q=new ResizeObserver($);return x&&q.observe(x),()=>{K&&clearInterval(K),q.disconnect()}});const qe=q=>n(6,f=q.id),Ne=()=>n(6,f=null),pr=({detail:q})=>Me.toggleComplete(q.id),gr=({detail:q})=>Me.update(q.id,{text:q.text}),_r=({detail:q})=>Me.remove(q.id),br=(q,D)=>{if(d){D.preventDefault();return}v(D,q.id)},yr=(q,D)=>{d||b(D,q)},mr=(q,D)=>{d||R(D,q)},wr=()=>n(8,h=null);function qr(q){Ke[q?"unshift":"push"](()=>{x=q,n(9,x)})}return e.$$.update=()=>{e.$$.dirty[0]&33554436&&n(1,t=(()=>{const q=i,D=o,Z=D.getAllEdges();if(Z.length===0)return[...q];const Y=q.map(L=>L.id);let V=!1;for(const[L,X]of Z){const ne=Y.indexOf(L),se=Y.indexOf(X);if(ne>se){V=!0;break}}if(!V)return[...q];const y=D.topologicalSort(),E=new Map(q.map(L=>[L.id,L])),G=y.map(L=>E.get(L)).filter(Boolean),S=q.filter(L=>!D.nodes.has(L.id));return[...G,...S]})()),e.$$.dirty[0]&4&&n(0,a=o.getAllEdges()),e.$$.dirty[0]&2&&t.length>=0&&requestAnimationFrame(()=>{setTimeout($,100)}),e.$$.dirty[0]&1&&a.length>=0&&requestAnimationFrame(()=>{setTimeout($,100)})},[a,t,o,s,u,c,f,d,h,x,k,v,p,b,T,R,F,A,C,O,M,m,B,W,re,i,qe,Ne,pr,gr,_r,br,yr,mr,wr,qr]}class Fp extends Nr{constructor(r){super(),Lr(this,r,Np,Lp,sr,{},null,[-1,-1])}}var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ns(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var On,vu;function Gp(){if(vu)return On;vu=1;function e(){this.__data__=[],this.size=0}return On=e,On}var kn,pu;function cr(){if(pu)return kn;pu=1;function e(r,n){return r===n||r!==r&&n!==n}return kn=e,kn}var Mn,gu;function on(){if(gu)return Mn;gu=1;var e=cr();function r(n,t){for(var a=n.length;a--;)if(e(n[a][0],t))return a;return-1}return Mn=r,Mn}var Pn,_u;function Bp(){if(_u)return Pn;_u=1;var e=on(),r=Array.prototype,n=r.splice;function t(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var s=i.length-1;return o==s?i.pop():n.call(i,o,1),--this.size,!0}return Pn=t,Pn}var Dn,bu;function xp(){if(bu)return Dn;bu=1;var e=on();function r(n){var t=this.__data__,a=e(t,n);return a<0?void 0:t[a][1]}return Dn=r,Dn}var Ln,yu;function Up(){if(yu)return Ln;yu=1;var e=on();function r(n){return e(this.__data__,n)>-1}return Ln=r,Ln}var Nn,mu;function Kp(){if(mu)return Nn;mu=1;var e=on();function r(n,t){var a=this.__data__,i=e(a,n);return i<0?(++this.size,a.push([n,t])):a[i][1]=t,this}return Nn=r,Nn}var Fn,wu;function sn(){if(wu)return Fn;wu=1;var e=Gp(),r=Bp(),n=xp(),t=Up(),a=Kp();function i(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var c=o[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=t,i.prototype.set=a,Fn=i,Fn}var jn,qu;function Hp(){if(qu)return jn;qu=1;var e=sn();function r(){this.__data__=new e,this.size=0}return jn=r,jn}var Gn,Eu;function zp(){if(Eu)return Gn;Eu=1;function e(r){var n=this.__data__,t=n.delete(r);return this.size=n.size,t}return Gn=e,Gn}var Bn,Ru;function Vp(){if(Ru)return Bn;Ru=1;function e(r){return this.__data__.get(r)}return Bn=e,Bn}var xn,Iu;function Yp(){if(Iu)return xn;Iu=1;function e(r){return this.__data__.has(r)}return xn=e,xn}var Un,Tu;function xh(){if(Tu)return Un;Tu=1;var e=typeof zr=="object"&&zr&&zr.Object===Object&&zr;return Un=e,Un}var Kn,Au;function Re(){if(Au)return Kn;Au=1;var e=xh(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=e||r||Function("return this")();return Kn=n,Kn}var Hn,Su;function dr(){if(Su)return Hn;Su=1;var e=Re(),r=e.Symbol;return Hn=r,Hn}var zn,Cu;function Xp(){if(Cu)return zn;Cu=1;var e=dr(),r=Object.prototype,n=r.hasOwnProperty,t=r.toString,a=e?e.toStringTag:void 0;function i(o){var s=n.call(o,a),u=o[a];try{o[a]=void 0;var c=!0}catch{}var f=t.call(o);return c&&(s?o[a]=u:delete o[a]),f}return zn=i,zn}var Vn,Ou;function Wp(){if(Ou)return Vn;Ou=1;var e=Object.prototype,r=e.toString;function n(t){return r.call(t)}return Vn=n,Vn}var Yn,ku;function Je(){if(ku)return Yn;ku=1;var e=dr(),r=Xp(),n=Wp(),t="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?a:t:i&&i in Object(s)?r(s):n(s)}return Yn=o,Yn}var Xn,Mu;function me(){if(Mu)return Xn;Mu=1;function e(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return Xn=e,Xn}var Wn,Pu;function Fr(){if(Pu)return Wn;Pu=1;var e=Je(),r=me(),n="[object AsyncFunction]",t="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(s){if(!r(s))return!1;var u=e(s);return u==t||u==a||u==n||u==i}return Wn=o,Wn}var Jn,Du;function Jp(){if(Du)return Jn;Du=1;var e=Re(),r=e["__core-js_shared__"];return Jn=r,Jn}var Zn,Lu;function Zp(){if(Lu)return Zn;Lu=1;var e=Jp(),r=function(){var t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function n(t){return!!r&&r in t}return Zn=n,Zn}var Qn,Nu;function Uh(){if(Nu)return Qn;Nu=1;var e=Function.prototype,r=e.toString;function n(t){if(t!=null){try{return r.call(t)}catch{}try{return t+""}catch{}}return""}return Qn=n,Qn}var $n,Fu;function Qp(){if(Fu)return $n;Fu=1;var e=Fr(),r=Zp(),n=me(),t=Uh(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,u=o.toString,c=s.hasOwnProperty,f=RegExp("^"+u.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!n(h)||r(h))return!1;var l=e(h)?f:i;return l.test(t(h))}return $n=d,$n}var et,ju;function $p(){if(ju)return et;ju=1;function e(r,n){return r==null?void 0:r[n]}return et=e,et}var rt,Gu;function Ze(){if(Gu)return rt;Gu=1;var e=Qp(),r=$p();function n(t,a){var i=r(t,a);return e(i)?i:void 0}return rt=n,rt}var nt,Bu;function Fs(){if(Bu)return nt;Bu=1;var e=Ze(),r=Re(),n=e(r,"Map");return nt=n,nt}var tt,xu;function un(){if(xu)return tt;xu=1;var e=Ze(),r=e(Object,"create");return tt=r,tt}var at,Uu;function eg(){if(Uu)return at;Uu=1;var e=un();function r(){this.__data__=e?e(null):{},this.size=0}return at=r,at}var it,Ku;function rg(){if(Ku)return it;Ku=1;function e(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}return it=e,it}var ot,Hu;function ng(){if(Hu)return ot;Hu=1;var e=un(),r="__lodash_hash_undefined__",n=Object.prototype,t=n.hasOwnProperty;function a(i){var o=this.__data__;if(e){var s=o[i];return s===r?void 0:s}return t.call(o,i)?o[i]:void 0}return ot=a,ot}var st,zu;function tg(){if(zu)return st;zu=1;var e=un(),r=Object.prototype,n=r.hasOwnProperty;function t(a){var i=this.__data__;return e?i[a]!==void 0:n.call(i,a)}return st=t,st}var ut,Vu;function ag(){if(Vu)return ut;Vu=1;var e=un(),r="__lodash_hash_undefined__";function n(t,a){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=e&&a===void 0?r:a,this}return ut=n,ut}var ft,Yu;function ig(){if(Yu)return ft;Yu=1;var e=eg(),r=rg(),n=ng(),t=tg(),a=ag();function i(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var c=o[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=t,i.prototype.set=a,ft=i,ft}var ct,Xu;function og(){if(Xu)return ct;Xu=1;var e=ig(),r=sn(),n=Fs();function t(){this.size=0,this.__data__={hash:new e,map:new(n||r),string:new e}}return ct=t,ct}var dt,Wu;function sg(){if(Wu)return dt;Wu=1;function e(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}return dt=e,dt}var lt,Ju;function fn(){if(Ju)return lt;Ju=1;var e=sg();function r(n,t){var a=n.__data__;return e(t)?a[typeof t=="string"?"string":"hash"]:a.map}return lt=r,lt}var ht,Zu;function ug(){if(Zu)return ht;Zu=1;var e=fn();function r(n){var t=e(this,n).delete(n);return this.size-=t?1:0,t}return ht=r,ht}var vt,Qu;function fg(){if(Qu)return vt;Qu=1;var e=fn();function r(n){return e(this,n).get(n)}return vt=r,vt}var pt,$u;function cg(){if($u)return pt;$u=1;var e=fn();function r(n){return e(this,n).has(n)}return pt=r,pt}var gt,ef;function dg(){if(ef)return gt;ef=1;var e=fn();function r(n,t){var a=e(this,n),i=a.size;return a.set(n,t),this.size+=a.size==i?0:1,this}return gt=r,gt}var _t,rf;function js(){if(rf)return _t;rf=1;var e=og(),r=ug(),n=fg(),t=cg(),a=dg();function i(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var c=o[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=t,i.prototype.set=a,_t=i,_t}var bt,nf;function lg(){if(nf)return bt;nf=1;var e=sn(),r=Fs(),n=js(),t=200;function a(i,o){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!r||u.length<t-1)return u.push([i,o]),this.size=++s.size,this;s=this.__data__=new n(u)}return s.set(i,o),this.size=s.size,this}return bt=a,bt}var yt,tf;function cn(){if(tf)return yt;tf=1;var e=sn(),r=Hp(),n=zp(),t=Vp(),a=Yp(),i=lg();function o(s){var u=this.__data__=new e(s);this.size=u.size}return o.prototype.clear=r,o.prototype.delete=n,o.prototype.get=t,o.prototype.has=a,o.prototype.set=i,yt=o,yt}var mt,af;function Gs(){if(af)return mt;af=1;function e(r,n){for(var t=-1,a=r==null?0:r.length;++t<a&&n(r[t],t,r)!==!1;);return r}return mt=e,mt}var wt,of;function Kh(){if(of)return wt;of=1;var e=Ze(),r=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return wt=r,wt}var qt,sf;function dn(){if(sf)return qt;sf=1;var e=Kh();function r(n,t,a){t=="__proto__"&&e?e(n,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[t]=a}return qt=r,qt}var Et,uf;function ln(){if(uf)return Et;uf=1;var e=dn(),r=cr(),n=Object.prototype,t=n.hasOwnProperty;function a(i,o,s){var u=i[o];(!(t.call(i,o)&&r(u,s))||s===void 0&&!(o in i))&&e(i,o,s)}return Et=a,Et}var Rt,ff;function jr(){if(ff)return Rt;ff=1;var e=ln(),r=dn();function n(t,a,i,o){var s=!i;i||(i={});for(var u=-1,c=a.length;++u<c;){var f=a[u],d=o?o(i[f],t[f],f,i,t):void 0;d===void 0&&(d=t[f]),s?r(i,f,d):e(i,f,d)}return i}return Rt=n,Rt}var It,cf;function hg(){if(cf)return It;cf=1;function e(r,n){for(var t=-1,a=Array(r);++t<r;)a[t]=n(t);return a}return It=e,It}var Tt,df;function Se(){if(df)return Tt;df=1;function e(r){return r!=null&&typeof r=="object"}return Tt=e,Tt}var At,lf;function vg(){if(lf)return At;lf=1;var e=Je(),r=Se(),n="[object Arguments]";function t(a){return r(a)&&e(a)==n}return At=t,At}var St,hf;function Gr(){if(hf)return St;hf=1;var e=vg(),r=Se(),n=Object.prototype,t=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return r(o)&&t.call(o,"callee")&&!a.call(o,"callee")};return St=i,St}var Ct,vf;function ae(){if(vf)return Ct;vf=1;var e=Array.isArray;return Ct=e,Ct}var Er={exports:{}},Ot,pf;function pg(){if(pf)return Ot;pf=1;function e(){return!1}return Ot=e,Ot}Er.exports;var gf;function lr(){return gf||(gf=1,function(e,r){var n=Re(),t=pg(),a=r&&!r.nodeType&&r,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?n.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||t;e.exports=c}(Er,Er.exports)),Er.exports}var kt,_f;function hn(){if(_f)return kt;_f=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,a){var i=typeof t;return a=a??e,!!a&&(i=="number"||i!="symbol"&&r.test(t))&&t>-1&&t%1==0&&t<a}return kt=n,kt}var Mt,bf;function Bs(){if(bf)return Mt;bf=1;var e=9007199254740991;function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Mt=r,Mt}var Pt,yf;function gg(){if(yf)return Pt;yf=1;var e=Je(),r=Bs(),n=Se(),t="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",s="[object Error]",u="[object Function]",c="[object Map]",f="[object Number]",d="[object Object]",h="[object RegExp]",l="[object Set]",v="[object String]",p="[object WeakMap]",g="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",T="[object Float64Array]",R="[object Int8Array]",F="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",O="[object Uint16Array]",M="[object Uint32Array]",m={};m[b]=m[T]=m[R]=m[F]=m[A]=m[I]=m[C]=m[O]=m[M]=!0,m[t]=m[a]=m[g]=m[i]=m[_]=m[o]=m[s]=m[u]=m[c]=m[f]=m[d]=m[h]=m[l]=m[v]=m[p]=!1;function B(W){return n(W)&&r(W.length)&&!!m[e(W)]}return Pt=B,Pt}var Dt,mf;function vn(){if(mf)return Dt;mf=1;function e(r){return function(n){return r(n)}}return Dt=e,Dt}var Rr={exports:{}};Rr.exports;var wf;function xs(){return wf||(wf=1,function(e,r){var n=xh(),t=r&&!r.nodeType&&r,a=t&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===t,o=i&&n.process,s=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(Rr,Rr.exports)),Rr.exports}var Lt,qf;function Br(){if(qf)return Lt;qf=1;var e=gg(),r=vn(),n=xs(),t=n&&n.isTypedArray,a=t?r(t):e;return Lt=a,Lt}var Nt,Ef;function Hh(){if(Ef)return Nt;Ef=1;var e=hg(),r=Gr(),n=ae(),t=lr(),a=hn(),i=Br(),o=Object.prototype,s=o.hasOwnProperty;function u(c,f){var d=n(c),h=!d&&r(c),l=!d&&!h&&t(c),v=!d&&!h&&!l&&i(c),p=d||h||l||v,g=p?e(c.length,String):[],_=g.length;for(var b in c)(f||s.call(c,b))&&!(p&&(b=="length"||l&&(b=="offset"||b=="parent")||v&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,_)))&&g.push(b);return g}return Nt=u,Nt}var Ft,Rf;function pn(){if(Rf)return Ft;Rf=1;var e=Object.prototype;function r(n){var t=n&&n.constructor,a=typeof t=="function"&&t.prototype||e;return n===a}return Ft=r,Ft}var jt,If;function zh(){if(If)return jt;If=1;function e(r,n){return function(t){return r(n(t))}}return jt=e,jt}var Gt,Tf;function _g(){if(Tf)return Gt;Tf=1;var e=zh(),r=e(Object.keys,Object);return Gt=r,Gt}var Bt,Af;function Us(){if(Af)return Bt;Af=1;var e=pn(),r=_g(),n=Object.prototype,t=n.hasOwnProperty;function a(i){if(!e(i))return r(i);var o=[];for(var s in Object(i))t.call(i,s)&&s!="constructor"&&o.push(s);return o}return Bt=a,Bt}var xt,Sf;function De(){if(Sf)return xt;Sf=1;var e=Fr(),r=Bs();function n(t){return t!=null&&r(t.length)&&!e(t)}return xt=n,xt}var Ut,Cf;function ze(){if(Cf)return Ut;Cf=1;var e=Hh(),r=Us(),n=De();function t(a){return n(a)?e(a):r(a)}return Ut=t,Ut}var Kt,Of;function bg(){if(Of)return Kt;Of=1;var e=jr(),r=ze();function n(t,a){return t&&e(a,r(a),t)}return Kt=n,Kt}var Ht,kf;function yg(){if(kf)return Ht;kf=1;function e(r){var n=[];if(r!=null)for(var t in Object(r))n.push(t);return n}return Ht=e,Ht}var zt,Mf;function mg(){if(Mf)return zt;Mf=1;var e=me(),r=pn(),n=yg(),t=Object.prototype,a=t.hasOwnProperty;function i(o){if(!e(o))return n(o);var s=r(o),u=[];for(var c in o)c=="constructor"&&(s||!a.call(o,c))||u.push(c);return u}return zt=i,zt}var Vt,Pf;function Qe(){if(Pf)return Vt;Pf=1;var e=Hh(),r=mg(),n=De();function t(a){return n(a)?e(a,!0):r(a)}return Vt=t,Vt}var Yt,Df;function wg(){if(Df)return Yt;Df=1;var e=jr(),r=Qe();function n(t,a){return t&&e(a,r(a),t)}return Yt=n,Yt}var Ir={exports:{}};Ir.exports;var Lf;function Vh(){return Lf||(Lf=1,function(e,r){var n=Re(),t=r&&!r.nodeType&&r,a=t&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===t,o=i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function u(c,f){if(f)return c.slice();var d=c.length,h=s?s(d):new c.constructor(d);return c.copy(h),h}e.exports=u}(Ir,Ir.exports)),Ir.exports}var Xt,Nf;function Yh(){if(Nf)return Xt;Nf=1;function e(r,n){var t=-1,a=r.length;for(n||(n=Array(a));++t<a;)n[t]=r[t];return n}return Xt=e,Xt}var Wt,Ff;function Xh(){if(Ff)return Wt;Ff=1;function e(r,n){for(var t=-1,a=r==null?0:r.length,i=0,o=[];++t<a;){var s=r[t];n(s,t,r)&&(o[i++]=s)}return o}return Wt=e,Wt}var Jt,jf;function Wh(){if(jf)return Jt;jf=1;function e(){return[]}return Jt=e,Jt}var Zt,Gf;function Ks(){if(Gf)return Zt;Gf=1;var e=Xh(),r=Wh(),n=Object.prototype,t=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(s){return t.call(o,s)}))}:r;return Zt=i,Zt}var Qt,Bf;function qg(){if(Bf)return Qt;Bf=1;var e=jr(),r=Ks();function n(t,a){return e(t,r(t),a)}return Qt=n,Qt}var $t,xf;function Hs(){if(xf)return $t;xf=1;function e(r,n){for(var t=-1,a=n.length,i=r.length;++t<a;)r[i+t]=n[t];return r}return $t=e,$t}var ea,Uf;function gn(){if(Uf)return ea;Uf=1;var e=zh(),r=e(Object.getPrototypeOf,Object);return ea=r,ea}var ra,Kf;function Jh(){if(Kf)return ra;Kf=1;var e=Hs(),r=gn(),n=Ks(),t=Wh(),a=Object.getOwnPropertySymbols,i=a?function(o){for(var s=[];o;)e(s,n(o)),o=r(o);return s}:t;return ra=i,ra}var na,Hf;function Eg(){if(Hf)return na;Hf=1;var e=jr(),r=Jh();function n(t,a){return e(t,r(t),a)}return na=n,na}var ta,zf;function Zh(){if(zf)return ta;zf=1;var e=Hs(),r=ae();function n(t,a,i){var o=a(t);return r(t)?o:e(o,i(t))}return ta=n,ta}var aa,Vf;function Qh(){if(Vf)return aa;Vf=1;var e=Zh(),r=Ks(),n=ze();function t(a){return e(a,n,r)}return aa=t,aa}var ia,Yf;function Rg(){if(Yf)return ia;Yf=1;var e=Zh(),r=Jh(),n=Qe();function t(a){return e(a,n,r)}return ia=t,ia}var oa,Xf;function Ig(){if(Xf)return oa;Xf=1;var e=Ze(),r=Re(),n=e(r,"DataView");return oa=n,oa}var sa,Wf;function Tg(){if(Wf)return sa;Wf=1;var e=Ze(),r=Re(),n=e(r,"Promise");return sa=n,sa}var ua,Jf;function $h(){if(Jf)return ua;Jf=1;var e=Ze(),r=Re(),n=e(r,"Set");return ua=n,ua}var fa,Zf;function Ag(){if(Zf)return fa;Zf=1;var e=Ze(),r=Re(),n=e(r,"WeakMap");return fa=n,fa}var ca,Qf;function hr(){if(Qf)return ca;Qf=1;var e=Ig(),r=Fs(),n=Tg(),t=$h(),a=Ag(),i=Je(),o=Uh(),s="[object Map]",u="[object Object]",c="[object Promise]",f="[object Set]",d="[object WeakMap]",h="[object DataView]",l=o(e),v=o(r),p=o(n),g=o(t),_=o(a),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=h||r&&b(new r)!=s||n&&b(n.resolve())!=c||t&&b(new t)!=f||a&&b(new a)!=d)&&(b=function(T){var R=i(T),F=R==u?T.constructor:void 0,A=F?o(F):"";if(A)switch(A){case l:return h;case v:return s;case p:return c;case g:return f;case _:return d}return R}),ca=b,ca}var da,$f;function Sg(){if($f)return da;$f=1;var e=Object.prototype,r=e.hasOwnProperty;function n(t){var a=t.length,i=new t.constructor(a);return a&&typeof t[0]=="string"&&r.call(t,"index")&&(i.index=t.index,i.input=t.input),i}return da=n,da}var la,ec;function ev(){if(ec)return la;ec=1;var e=Re(),r=e.Uint8Array;return la=r,la}var ha,rc;function zs(){if(rc)return ha;rc=1;var e=ev();function r(n){var t=new n.constructor(n.byteLength);return new e(t).set(new e(n)),t}return ha=r,ha}var va,nc;function Cg(){if(nc)return va;nc=1;var e=zs();function r(n,t){var a=t?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return va=r,va}var pa,tc;function Og(){if(tc)return pa;tc=1;var e=/\w*$/;function r(n){var t=new n.constructor(n.source,e.exec(n));return t.lastIndex=n.lastIndex,t}return pa=r,pa}var ga,ac;function kg(){if(ac)return ga;ac=1;var e=dr(),r=e?e.prototype:void 0,n=r?r.valueOf:void 0;function t(a){return n?Object(n.call(a)):{}}return ga=t,ga}var _a,ic;function rv(){if(ic)return _a;ic=1;var e=zs();function r(n,t){var a=t?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return _a=r,_a}var ba,oc;function Mg(){if(oc)return ba;oc=1;var e=zs(),r=Cg(),n=Og(),t=kg(),a=rv(),i="[object Boolean]",o="[object Date]",s="[object Map]",u="[object Number]",c="[object RegExp]",f="[object Set]",d="[object String]",h="[object Symbol]",l="[object ArrayBuffer]",v="[object DataView]",p="[object Float32Array]",g="[object Float64Array]",_="[object Int8Array]",b="[object Int16Array]",T="[object Int32Array]",R="[object Uint8Array]",F="[object Uint8ClampedArray]",A="[object Uint16Array]",I="[object Uint32Array]";function C(O,M,m){var B=O.constructor;switch(M){case l:return e(O);case i:case o:return new B(+O);case v:return r(O,m);case p:case g:case _:case b:case T:case R:case F:case A:case I:return a(O,m);case s:return new B;case u:case d:return new B(O);case c:return n(O);case f:return new B;case h:return t(O)}}return ba=C,ba}var ya,sc;function nv(){if(sc)return ya;sc=1;var e=me(),r=Object.create,n=function(){function t(){}return function(a){if(!e(a))return{};if(r)return r(a);t.prototype=a;var i=new t;return t.prototype=void 0,i}}();return ya=n,ya}var ma,uc;function tv(){if(uc)return ma;uc=1;var e=nv(),r=gn(),n=pn();function t(a){return typeof a.constructor=="function"&&!n(a)?e(r(a)):{}}return ma=t,ma}var wa,fc;function Pg(){if(fc)return wa;fc=1;var e=hr(),r=Se(),n="[object Map]";function t(a){return r(a)&&e(a)==n}return wa=t,wa}var qa,cc;function Dg(){if(cc)return qa;cc=1;var e=Pg(),r=vn(),n=xs(),t=n&&n.isMap,a=t?r(t):e;return qa=a,qa}var Ea,dc;function Lg(){if(dc)return Ea;dc=1;var e=hr(),r=Se(),n="[object Set]";function t(a){return r(a)&&e(a)==n}return Ea=t,Ea}var Ra,lc;function Ng(){if(lc)return Ra;lc=1;var e=Lg(),r=vn(),n=xs(),t=n&&n.isSet,a=t?r(t):e;return Ra=a,Ra}var Ia,hc;function av(){if(hc)return Ia;hc=1;var e=cn(),r=Gs(),n=ln(),t=bg(),a=wg(),i=Vh(),o=Yh(),s=qg(),u=Eg(),c=Qh(),f=Rg(),d=hr(),h=Sg(),l=Mg(),v=tv(),p=ae(),g=lr(),_=Dg(),b=me(),T=Ng(),R=ze(),F=Qe(),A=1,I=2,C=4,O="[object Arguments]",M="[object Array]",m="[object Boolean]",B="[object Date]",W="[object Error]",re="[object Function]",x="[object GeneratorFunction]",k="[object Map]",K="[object Number]",$="[object Object]",qe="[object RegExp]",Ne="[object Set]",pr="[object String]",gr="[object Symbol]",_r="[object WeakMap]",br="[object ArrayBuffer]",yr="[object DataView]",mr="[object Float32Array]",wr="[object Float64Array]",qr="[object Int8Array]",q="[object Int16Array]",D="[object Int32Array]",Z="[object Uint8Array]",Y="[object Uint8ClampedArray]",V="[object Uint16Array]",y="[object Uint32Array]",E={};E[O]=E[M]=E[br]=E[yr]=E[m]=E[B]=E[mr]=E[wr]=E[qr]=E[q]=E[D]=E[k]=E[K]=E[$]=E[qe]=E[Ne]=E[pr]=E[gr]=E[Z]=E[Y]=E[V]=E[y]=!0,E[W]=E[re]=E[_r]=!1;function G(S,L,X,ne,se,fe){var z,Q=L&A,de=L&I,_e=L&C;if(X&&(z=se?X(S,ne,se,fe):X(S)),z!==void 0)return z;if(!b(S))return S;var Ur=p(S);if(Ur){if(z=h(S),!Q)return o(S,z)}else{var Fe=d(S),Kr=Fe==re||Fe==x;if(g(S))return i(S,Q);if(Fe==$||Fe==O||Kr&&!se){if(z=de||Kr?{}:v(S),!Q)return de?u(S,a(z,S)):s(S,t(z,S))}else{if(!E[Fe])return se?S:{};z=l(S,Fe,Q)}}fe||(fe=new e);var Hr=fe.get(S);if(Hr)return Hr;fe.set(S,z),T(S)?S.forEach(function(je){z.add(G(je,L,X,je,S,fe))}):_(S)&&S.forEach(function(je,Ve){z.set(Ve,G(je,L,X,Ve,S,fe))});var np=_e?de?f:c:de?F:R,nu=Ur?void 0:np(S);return r(nu||S,function(je,Ve){nu&&(Ve=je,je=S[Ve]),n(z,Ve,G(je,L,X,Ve,S,fe))}),z}return Ia=G,Ia}var Ta,vc;function Fg(){if(vc)return Ta;vc=1;var e=av(),r=4;function n(t){return e(t,r)}return Ta=n,Ta}var Aa,pc;function Vs(){if(pc)return Aa;pc=1;function e(r){return function(){return r}}return Aa=e,Aa}var Sa,gc;function jg(){if(gc)return Sa;gc=1;function e(r){return function(n,t,a){for(var i=-1,o=Object(n),s=a(n),u=s.length;u--;){var c=s[r?u:++i];if(t(o[c],c,o)===!1)break}return n}}return Sa=e,Sa}var Ca,_c;function Ys(){if(_c)return Ca;_c=1;var e=jg(),r=e();return Ca=r,Ca}var Oa,bc;function Xs(){if(bc)return Oa;bc=1;var e=Ys(),r=ze();function n(t,a){return t&&e(t,a,r)}return Oa=n,Oa}var ka,yc;function Gg(){if(yc)return ka;yc=1;var e=De();function r(n,t){return function(a,i){if(a==null)return a;if(!e(a))return n(a,i);for(var o=a.length,s=t?o:-1,u=Object(a);(t?s--:++s<o)&&i(u[s],s,u)!==!1;);return a}}return ka=r,ka}var Ma,mc;function _n(){if(mc)return Ma;mc=1;var e=Xs(),r=Gg(),n=r(e);return Ma=n,Ma}var Pa,wc;function $e(){if(wc)return Pa;wc=1;function e(r){return r}return Pa=e,Pa}var Da,qc;function iv(){if(qc)return Da;qc=1;var e=$e();function r(n){return typeof n=="function"?n:e}return Da=r,Da}var La,Ec;function ov(){if(Ec)return La;Ec=1;var e=Gs(),r=_n(),n=iv(),t=ae();function a(i,o){var s=t(i)?e:r;return s(i,n(o))}return La=a,La}var Na,Rc;function sv(){return Rc||(Rc=1,Na=ov()),Na}var Fa,Ic;function Bg(){if(Ic)return Fa;Ic=1;var e=_n();function r(n,t){var a=[];return e(n,function(i,o,s){t(i,o,s)&&a.push(i)}),a}return Fa=r,Fa}var ja,Tc;function xg(){if(Tc)return ja;Tc=1;var e="__lodash_hash_undefined__";function r(n){return this.__data__.set(n,e),this}return ja=r,ja}var Ga,Ac;function Ug(){if(Ac)return Ga;Ac=1;function e(r){return this.__data__.has(r)}return Ga=e,Ga}var Ba,Sc;function uv(){if(Sc)return Ba;Sc=1;var e=js(),r=xg(),n=Ug();function t(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return t.prototype.add=t.prototype.push=r,t.prototype.has=n,Ba=t,Ba}var xa,Cc;function Kg(){if(Cc)return xa;Cc=1;function e(r,n){for(var t=-1,a=r==null?0:r.length;++t<a;)if(n(r[t],t,r))return!0;return!1}return xa=e,xa}var Ua,Oc;function fv(){if(Oc)return Ua;Oc=1;function e(r,n){return r.has(n)}return Ua=e,Ua}var Ka,kc;function cv(){if(kc)return Ka;kc=1;var e=uv(),r=Kg(),n=fv(),t=1,a=2;function i(o,s,u,c,f,d){var h=u&t,l=o.length,v=s.length;if(l!=v&&!(h&&v>l))return!1;var p=d.get(o),g=d.get(s);if(p&&g)return p==s&&g==o;var _=-1,b=!0,T=u&a?new e:void 0;for(d.set(o,s),d.set(s,o);++_<l;){var R=o[_],F=s[_];if(c)var A=h?c(F,R,_,s,o,d):c(R,F,_,o,s,d);if(A!==void 0){if(A)continue;b=!1;break}if(T){if(!r(s,function(I,C){if(!n(T,C)&&(R===I||f(R,I,u,c,d)))return T.push(C)})){b=!1;break}}else if(!(R===F||f(R,F,u,c,d))){b=!1;break}}return d.delete(o),d.delete(s),b}return Ka=i,Ka}var Ha,Mc;function Hg(){if(Mc)return Ha;Mc=1;function e(r){var n=-1,t=Array(r.size);return r.forEach(function(a,i){t[++n]=[i,a]}),t}return Ha=e,Ha}var za,Pc;function Ws(){if(Pc)return za;Pc=1;function e(r){var n=-1,t=Array(r.size);return r.forEach(function(a){t[++n]=a}),t}return za=e,za}var Va,Dc;function zg(){if(Dc)return Va;Dc=1;var e=dr(),r=ev(),n=cr(),t=cv(),a=Hg(),i=Ws(),o=1,s=2,u="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Map]",h="[object Number]",l="[object RegExp]",v="[object Set]",p="[object String]",g="[object Symbol]",_="[object ArrayBuffer]",b="[object DataView]",T=e?e.prototype:void 0,R=T?T.valueOf:void 0;function F(A,I,C,O,M,m,B){switch(C){case b:if(A.byteLength!=I.byteLength||A.byteOffset!=I.byteOffset)return!1;A=A.buffer,I=I.buffer;case _:return!(A.byteLength!=I.byteLength||!m(new r(A),new r(I)));case u:case c:case h:return n(+A,+I);case f:return A.name==I.name&&A.message==I.message;case l:case p:return A==I+"";case d:var W=a;case v:var re=O&o;if(W||(W=i),A.size!=I.size&&!re)return!1;var x=B.get(A);if(x)return x==I;O|=s,B.set(A,I);var k=t(W(A),W(I),O,M,m,B);return B.delete(A),k;case g:if(R)return R.call(A)==R.call(I)}return!1}return Va=F,Va}var Ya,Lc;function Vg(){if(Lc)return Ya;Lc=1;var e=Qh(),r=1,n=Object.prototype,t=n.hasOwnProperty;function a(i,o,s,u,c,f){var d=s&r,h=e(i),l=h.length,v=e(o),p=v.length;if(l!=p&&!d)return!1;for(var g=l;g--;){var _=h[g];if(!(d?_ in o:t.call(o,_)))return!1}var b=f.get(i),T=f.get(o);if(b&&T)return b==o&&T==i;var R=!0;f.set(i,o),f.set(o,i);for(var F=d;++g<l;){_=h[g];var A=i[_],I=o[_];if(u)var C=d?u(I,A,_,o,i,f):u(A,I,_,i,o,f);if(!(C===void 0?A===I||c(A,I,s,u,f):C)){R=!1;break}F||(F=_=="constructor")}if(R&&!F){var O=i.constructor,M=o.constructor;O!=M&&"constructor"in i&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof M=="function"&&M instanceof M)&&(R=!1)}return f.delete(i),f.delete(o),R}return Ya=a,Ya}var Xa,Nc;function Yg(){if(Nc)return Xa;Nc=1;var e=cn(),r=cv(),n=zg(),t=Vg(),a=hr(),i=ae(),o=lr(),s=Br(),u=1,c="[object Arguments]",f="[object Array]",d="[object Object]",h=Object.prototype,l=h.hasOwnProperty;function v(p,g,_,b,T,R){var F=i(p),A=i(g),I=F?f:a(p),C=A?f:a(g);I=I==c?d:I,C=C==c?d:C;var O=I==d,M=C==d,m=I==C;if(m&&o(p)){if(!o(g))return!1;F=!0,O=!1}if(m&&!O)return R||(R=new e),F||s(p)?r(p,g,_,b,T,R):n(p,g,I,_,b,T,R);if(!(_&u)){var B=O&&l.call(p,"__wrapped__"),W=M&&l.call(g,"__wrapped__");if(B||W){var re=B?p.value():p,x=W?g.value():g;return R||(R=new e),T(re,x,_,b,R)}}return m?(R||(R=new e),t(p,g,_,b,T,R)):!1}return Xa=v,Xa}var Wa,Fc;function dv(){if(Fc)return Wa;Fc=1;var e=Yg(),r=Se();function n(t,a,i,o,s){return t===a?!0:t==null||a==null||!r(t)&&!r(a)?t!==t&&a!==a:e(t,a,i,o,n,s)}return Wa=n,Wa}var Ja,jc;function Xg(){if(jc)return Ja;jc=1;var e=cn(),r=dv(),n=1,t=2;function a(i,o,s,u){var c=s.length,f=c,d=!u;if(i==null)return!f;for(i=Object(i);c--;){var h=s[c];if(d&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++c<f;){h=s[c];var l=h[0],v=i[l],p=h[1];if(d&&h[2]){if(v===void 0&&!(l in i))return!1}else{var g=new e;if(u)var _=u(v,p,l,i,o,g);if(!(_===void 0?r(p,v,n|t,u,g):_))return!1}}return!0}return Ja=a,Ja}var Za,Gc;function lv(){if(Gc)return Za;Gc=1;var e=me();function r(n){return n===n&&!e(n)}return Za=r,Za}var Qa,Bc;function Wg(){if(Bc)return Qa;Bc=1;var e=lv(),r=ze();function n(t){for(var a=r(t),i=a.length;i--;){var o=a[i],s=t[o];a[i]=[o,s,e(s)]}return a}return Qa=n,Qa}var $a,xc;function hv(){if(xc)return $a;xc=1;function e(r,n){return function(t){return t==null?!1:t[r]===n&&(n!==void 0||r in Object(t))}}return $a=e,$a}var ei,Uc;function Jg(){if(Uc)return ei;Uc=1;var e=Xg(),r=Wg(),n=hv();function t(a){var i=r(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return ei=t,ei}var ri,Kc;function vr(){if(Kc)return ri;Kc=1;var e=Je(),r=Se(),n="[object Symbol]";function t(a){return typeof a=="symbol"||r(a)&&e(a)==n}return ri=t,ri}var ni,Hc;function Js(){if(Hc)return ni;Hc=1;var e=ae(),r=vr(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t=/^\w*$/;function a(i,o){if(e(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||r(i)?!0:t.test(i)||!n.test(i)||o!=null&&i in Object(o)}return ni=a,ni}var ti,zc;function Zg(){if(zc)return ti;zc=1;var e=js(),r="Expected a function";function n(t,a){if(typeof t!="function"||a!=null&&typeof a!="function")throw new TypeError(r);var i=function(){var o=arguments,s=a?a.apply(this,o):o[0],u=i.cache;if(u.has(s))return u.get(s);var c=t.apply(this,o);return i.cache=u.set(s,c)||u,c};return i.cache=new(n.Cache||e),i}return n.Cache=e,ti=n,ti}var ai,Vc;function Qg(){if(Vc)return ai;Vc=1;var e=Zg(),r=500;function n(t){var a=e(t,function(o){return i.size===r&&i.clear(),o}),i=a.cache;return a}return ai=n,ai}var ii,Yc;function $g(){if(Yc)return ii;Yc=1;var e=Qg(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,t=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(r,function(o,s,u,c){i.push(u?c.replace(n,"$1"):s||o)}),i});return ii=t,ii}var oi,Xc;function bn(){if(Xc)return oi;Xc=1;function e(r,n){for(var t=-1,a=r==null?0:r.length,i=Array(a);++t<a;)i[t]=n(r[t],t,r);return i}return oi=e,oi}var si,Wc;function e_(){if(Wc)return si;Wc=1;var e=dr(),r=bn(),n=ae(),t=vr(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(s){if(typeof s=="string")return s;if(n(s))return r(s,o)+"";if(t(s))return i?i.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return si=o,si}var ui,Jc;function vv(){if(Jc)return ui;Jc=1;var e=e_();function r(n){return n==null?"":e(n)}return ui=r,ui}var fi,Zc;function yn(){if(Zc)return fi;Zc=1;var e=ae(),r=Js(),n=$g(),t=vv();function a(i,o){return e(i)?i:r(i,o)?[i]:n(t(i))}return fi=a,fi}var ci,Qc;function xr(){if(Qc)return ci;Qc=1;var e=vr();function r(n){if(typeof n=="string"||e(n))return n;var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}return ci=r,ci}var di,$c;function mn(){if($c)return di;$c=1;var e=yn(),r=xr();function n(t,a){a=e(a,t);for(var i=0,o=a.length;t!=null&&i<o;)t=t[r(a[i++])];return i&&i==o?t:void 0}return di=n,di}var li,ed;function r_(){if(ed)return li;ed=1;var e=mn();function r(n,t,a){var i=n==null?void 0:e(n,t);return i===void 0?a:i}return li=r,li}var hi,rd;function n_(){if(rd)return hi;rd=1;function e(r,n){return r!=null&&n in Object(r)}return hi=e,hi}var vi,nd;function pv(){if(nd)return vi;nd=1;var e=yn(),r=Gr(),n=ae(),t=hn(),a=Bs(),i=xr();function o(s,u,c){u=e(u,s);for(var f=-1,d=u.length,h=!1;++f<d;){var l=i(u[f]);if(!(h=s!=null&&c(s,l)))break;s=s[l]}return h||++f!=d?h:(d=s==null?0:s.length,!!d&&a(d)&&t(l,d)&&(n(s)||r(s)))}return vi=o,vi}var pi,td;function gv(){if(td)return pi;td=1;var e=n_(),r=pv();function n(t,a){return t!=null&&r(t,a,e)}return pi=n,pi}var gi,ad;function t_(){if(ad)return gi;ad=1;var e=dv(),r=r_(),n=gv(),t=Js(),a=lv(),i=hv(),o=xr(),s=1,u=2;function c(f,d){return t(f)&&a(d)?i(o(f),d):function(h){var l=r(h,f);return l===void 0&&l===d?n(h,f):e(d,l,s|u)}}return gi=c,gi}var _i,id;function _v(){if(id)return _i;id=1;function e(r){return function(n){return n==null?void 0:n[r]}}return _i=e,_i}var bi,od;function a_(){if(od)return bi;od=1;var e=mn();function r(n){return function(t){return e(t,n)}}return bi=r,bi}var yi,sd;function i_(){if(sd)return yi;sd=1;var e=_v(),r=a_(),n=Js(),t=xr();function a(i){return n(i)?e(t(i)):r(i)}return yi=a,yi}var mi,ud;function Le(){if(ud)return mi;ud=1;var e=Jg(),r=t_(),n=$e(),t=ae(),a=i_();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?t(o)?r(o[0],o[1]):e(o):a(o)}return mi=i,mi}var wi,fd;function bv(){if(fd)return wi;fd=1;var e=Xh(),r=Bg(),n=Le(),t=ae();function a(i,o){var s=t(i)?e:r;return s(i,n(o,3))}return wi=a,wi}var qi,cd;function o_(){if(cd)return qi;cd=1;var e=Object.prototype,r=e.hasOwnProperty;function n(t,a){return t!=null&&r.call(t,a)}return qi=n,qi}var Ei,dd;function yv(){if(dd)return Ei;dd=1;var e=o_(),r=pv();function n(t,a){return t!=null&&r(t,a,e)}return Ei=n,Ei}var Ri,ld;function s_(){if(ld)return Ri;ld=1;var e=Us(),r=hr(),n=Gr(),t=ae(),a=De(),i=lr(),o=pn(),s=Br(),u="[object Map]",c="[object Set]",f=Object.prototype,d=f.hasOwnProperty;function h(l){if(l==null)return!0;if(a(l)&&(t(l)||typeof l=="string"||typeof l.splice=="function"||i(l)||s(l)||n(l)))return!l.length;var v=r(l);if(v==u||v==c)return!l.size;if(o(l))return!e(l).length;for(var p in l)if(d.call(l,p))return!1;return!0}return Ri=h,Ri}var Ii,hd;function mv(){if(hd)return Ii;hd=1;function e(r){return r===void 0}return Ii=e,Ii}var Ti,vd;function wv(){if(vd)return Ti;vd=1;var e=_n(),r=De();function n(t,a){var i=-1,o=r(t)?Array(t.length):[];return e(t,function(s,u,c){o[++i]=a(s,u,c)}),o}return Ti=n,Ti}var Ai,pd;function qv(){if(pd)return Ai;pd=1;var e=bn(),r=Le(),n=wv(),t=ae();function a(i,o){var s=t(i)?e:n;return s(i,r(o,3))}return Ai=a,Ai}var Si,gd;function u_(){if(gd)return Si;gd=1;function e(r,n,t,a){var i=-1,o=r==null?0:r.length;for(a&&o&&(t=r[++i]);++i<o;)t=n(t,r[i],i,r);return t}return Si=e,Si}var Ci,_d;function f_(){if(_d)return Ci;_d=1;function e(r,n,t,a,i){return i(r,function(o,s,u){t=a?(a=!1,o):n(t,o,s,u)}),t}return Ci=e,Ci}var Oi,bd;function Ev(){if(bd)return Oi;bd=1;var e=u_(),r=_n(),n=Le(),t=f_(),a=ae();function i(o,s,u){var c=a(o)?e:t,f=arguments.length<3;return c(o,n(s,4),u,f,r)}return Oi=i,Oi}var ki,yd;function c_(){if(yd)return ki;yd=1;var e=Je(),r=ae(),n=Se(),t="[object String]";function a(i){return typeof i=="string"||!r(i)&&n(i)&&e(i)==t}return ki=a,ki}var Mi,md;function d_(){if(md)return Mi;md=1;var e=_v(),r=e("length");return Mi=r,Mi}var Pi,wd;function l_(){if(wd)return Pi;wd=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",a=r+n+t,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+a+i+"]");function u(c){return s.test(c)}return Pi=u,Pi}var Di,qd;function h_(){if(qd)return Di;qd=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",a=r+n+t,i="\\ufe0e\\ufe0f",o="["+e+"]",s="["+a+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+u+")",f="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",l="\\u200d",v=c+"?",p="["+i+"]?",g="(?:"+l+"(?:"+[f,d,h].join("|")+")"+p+v+")*",_=p+v+g,b="(?:"+[f+s+"?",s,d,h,o].join("|")+")",T=RegExp(u+"(?="+u+")|"+b+_,"g");function R(F){for(var A=T.lastIndex=0;T.test(F);)++A;return A}return Di=R,Di}var Li,Ed;function v_(){if(Ed)return Li;Ed=1;var e=d_(),r=l_(),n=h_();function t(a){return r(a)?n(a):e(a)}return Li=t,Li}var Ni,Rd;function p_(){if(Rd)return Ni;Rd=1;var e=Us(),r=hr(),n=De(),t=c_(),a=v_(),i="[object Map]",o="[object Set]";function s(u){if(u==null)return 0;if(n(u))return t(u)?a(u):u.length;var c=r(u);return c==i||c==o?u.size:e(u).length}return Ni=s,Ni}var Fi,Id;function g_(){if(Id)return Fi;Id=1;var e=Gs(),r=nv(),n=Xs(),t=Le(),a=gn(),i=ae(),o=lr(),s=Fr(),u=me(),c=Br();function f(d,h,l){var v=i(d),p=v||o(d)||c(d);if(h=t(h,4),l==null){var g=d&&d.constructor;p?l=v?new g:[]:u(d)?l=s(g)?r(a(d)):{}:l={}}return(p?e:n)(d,function(_,b,T){return h(l,_,b,T)}),l}return Fi=f,Fi}var ji,Td;function __(){if(Td)return ji;Td=1;var e=dr(),r=Gr(),n=ae(),t=e?e.isConcatSpreadable:void 0;function a(i){return n(i)||r(i)||!!(t&&i&&i[t])}return ji=a,ji}var Gi,Ad;function Zs(){if(Ad)return Gi;Ad=1;var e=Hs(),r=__();function n(t,a,i,o,s){var u=-1,c=t.length;for(i||(i=r),s||(s=[]);++u<c;){var f=t[u];a>0&&i(f)?a>1?n(f,a-1,i,o,s):e(s,f):o||(s[s.length]=f)}return s}return Gi=n,Gi}var Bi,Sd;function b_(){if(Sd)return Bi;Sd=1;function e(r,n,t){switch(t.length){case 0:return r.call(n);case 1:return r.call(n,t[0]);case 2:return r.call(n,t[0],t[1]);case 3:return r.call(n,t[0],t[1],t[2])}return r.apply(n,t)}return Bi=e,Bi}var xi,Cd;function Rv(){if(Cd)return xi;Cd=1;var e=b_(),r=Math.max;function n(t,a,i){return a=r(a===void 0?t.length-1:a,0),function(){for(var o=arguments,s=-1,u=r(o.length-a,0),c=Array(u);++s<u;)c[s]=o[a+s];s=-1;for(var f=Array(a+1);++s<a;)f[s]=o[s];return f[a]=i(c),e(t,this,f)}}return xi=n,xi}var Ui,Od;function y_(){if(Od)return Ui;Od=1;var e=Vs(),r=Kh(),n=$e(),t=r?function(a,i){return r(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return Ui=t,Ui}var Ki,kd;function m_(){if(kd)return Ki;kd=1;var e=800,r=16,n=Date.now;function t(a){var i=0,o=0;return function(){var s=n(),u=r-(s-o);if(o=s,u>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Ki=t,Ki}var Hi,Md;function Iv(){if(Md)return Hi;Md=1;var e=y_(),r=m_(),n=r(e);return Hi=n,Hi}var zi,Pd;function wn(){if(Pd)return zi;Pd=1;var e=$e(),r=Rv(),n=Iv();function t(a,i){return n(r(a,i,e),a+"")}return zi=t,zi}var Vi,Dd;function Tv(){if(Dd)return Vi;Dd=1;function e(r,n,t,a){for(var i=r.length,o=t+(a?1:-1);a?o--:++o<i;)if(n(r[o],o,r))return o;return-1}return Vi=e,Vi}var Yi,Ld;function w_(){if(Ld)return Yi;Ld=1;function e(r){return r!==r}return Yi=e,Yi}var Xi,Nd;function q_(){if(Nd)return Xi;Nd=1;function e(r,n,t){for(var a=t-1,i=r.length;++a<i;)if(r[a]===n)return a;return-1}return Xi=e,Xi}var Wi,Fd;function E_(){if(Fd)return Wi;Fd=1;var e=Tv(),r=w_(),n=q_();function t(a,i,o){return i===i?n(a,i,o):e(a,r,o)}return Wi=t,Wi}var Ji,jd;function R_(){if(jd)return Ji;jd=1;var e=E_();function r(n,t){var a=n==null?0:n.length;return!!a&&e(n,t,0)>-1}return Ji=r,Ji}var Zi,Gd;function I_(){if(Gd)return Zi;Gd=1;function e(r,n,t){for(var a=-1,i=r==null?0:r.length;++a<i;)if(t(n,r[a]))return!0;return!1}return Zi=e,Zi}var Qi,Bd;function T_(){if(Bd)return Qi;Bd=1;function e(){}return Qi=e,Qi}var $i,xd;function A_(){if(xd)return $i;xd=1;var e=$h(),r=T_(),n=Ws(),t=1/0,a=e&&1/n(new e([,-0]))[1]==t?function(i){return new e(i)}:r;return $i=a,$i}var eo,Ud;function S_(){if(Ud)return eo;Ud=1;var e=uv(),r=R_(),n=I_(),t=fv(),a=A_(),i=Ws(),o=200;function s(u,c,f){var d=-1,h=r,l=u.length,v=!0,p=[],g=p;if(f)v=!1,h=n;else if(l>=o){var _=c?null:a(u);if(_)return i(_);v=!1,h=t,g=new e}else g=c?[]:p;e:for(;++d<l;){var b=u[d],T=c?c(b):b;if(b=f||b!==0?b:0,v&&T===T){for(var R=g.length;R--;)if(g[R]===T)continue e;c&&g.push(T),p.push(b)}else h(g,T,f)||(g!==p&&g.push(T),p.push(b))}return p}return eo=s,eo}var ro,Kd;function Av(){if(Kd)return ro;Kd=1;var e=De(),r=Se();function n(t){return r(t)&&e(t)}return ro=n,ro}var no,Hd;function C_(){if(Hd)return no;Hd=1;var e=Zs(),r=wn(),n=S_(),t=Av(),a=r(function(i){return n(e(i,1,t,!0))});return no=a,no}var to,zd;function O_(){if(zd)return to;zd=1;var e=bn();function r(n,t){return e(t,function(a){return n[a]})}return to=r,to}var ao,Vd;function Sv(){if(Vd)return ao;Vd=1;var e=O_(),r=ze();function n(t){return t==null?[]:e(t,r(t))}return ao=n,ao}var io,Yd;function we(){if(Yd)return io;Yd=1;var e;if(typeof Ns=="function")try{e={clone:Fg(),constant:Vs(),each:sv(),filter:bv(),has:yv(),isArray:ae(),isEmpty:s_(),isFunction:Fr(),isUndefined:mv(),keys:ze(),map:qv(),reduce:Ev(),size:p_(),transform:g_(),union:C_(),values:Sv()}}catch{}return e||(e=window._),io=e,io}var oo,Xd;function Qs(){if(Xd)return oo;Xd=1;var e=we();oo=a;var r="\0",n="\0",t="";function a(f){this._isDirected=e.has(f,"directed")?f.directed:!0,this._isMultigraph=e.has(f,"multigraph")?f.multigraph:!1,this._isCompound=e.has(f,"compound")?f.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(f){return this._label=f,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultNodeLabelFn=f,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return e.keys(this._nodes)},a.prototype.sources=function(){var f=this;return e.filter(this.nodes(),function(d){return e.isEmpty(f._in[d])})},a.prototype.sinks=function(){var f=this;return e.filter(this.nodes(),function(d){return e.isEmpty(f._out[d])})},a.prototype.setNodes=function(f,d){var h=arguments,l=this;return e.each(f,function(v){h.length>1?l.setNode(v,d):l.setNode(v)}),this},a.prototype.setNode=function(f,d){return e.has(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=d),this):(this._nodes[f]=arguments.length>1?d:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=n,this._children[f]={},this._children[n][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)},a.prototype.node=function(f){return this._nodes[f]},a.prototype.hasNode=function(f){return e.has(this._nodes,f)},a.prototype.removeNode=function(f){var d=this;if(e.has(this._nodes,f)){var h=function(l){d.removeEdge(d._edgeObjs[l])};delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],e.each(this.children(f),function(l){d.setParent(l)}),delete this._children[f]),e.each(e.keys(this._in[f]),h),delete this._in[f],delete this._preds[f],e.each(e.keys(this._out[f]),h),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this},a.prototype.setParent=function(f,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var h=d;!e.isUndefined(h);h=this.parent(h))if(h===f)throw new Error("Setting "+d+" as parent of "+f+" would create a cycle");this.setNode(d)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=d,this._children[d][f]=!0,this},a.prototype._removeFromParentsChildList=function(f){delete this._children[this._parent[f]][f]},a.prototype.parent=function(f){if(this._isCompound){var d=this._parent[f];if(d!==n)return d}},a.prototype.children=function(f){if(e.isUndefined(f)&&(f=n),this._isCompound){var d=this._children[f];if(d)return e.keys(d)}else{if(f===n)return this.nodes();if(this.hasNode(f))return[]}},a.prototype.predecessors=function(f){var d=this._preds[f];if(d)return e.keys(d)},a.prototype.successors=function(f){var d=this._sucs[f];if(d)return e.keys(d)},a.prototype.neighbors=function(f){var d=this.predecessors(f);if(d)return e.union(d,this.successors(f))},a.prototype.isLeaf=function(f){var d;return this.isDirected()?d=this.successors(f):d=this.neighbors(f),d.length===0},a.prototype.filterNodes=function(f){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var h=this;e.each(this._nodes,function(p,g){f(g)&&d.setNode(g,p)}),e.each(this._edgeObjs,function(p){d.hasNode(p.v)&&d.hasNode(p.w)&&d.setEdge(p,h.edge(p))});var l={};function v(p){var g=h.parent(p);return g===void 0||d.hasNode(g)?(l[p]=g,g):g in l?l[g]:v(g)}return this._isCompound&&e.each(d.nodes(),function(p){d.setParent(p,v(p))}),d},a.prototype.setDefaultEdgeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultEdgeLabelFn=f,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return e.values(this._edgeObjs)},a.prototype.setPath=function(f,d){var h=this,l=arguments;return e.reduce(f,function(v,p){return l.length>1?h.setEdge(v,p,d):h.setEdge(v,p),p}),this},a.prototype.setEdge=function(){var f,d,h,l,v=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(f=p.v,d=p.w,h=p.name,arguments.length===2&&(l=arguments[1],v=!0)):(f=p,d=arguments[1],h=arguments[3],arguments.length>2&&(l=arguments[2],v=!0)),f=""+f,d=""+d,e.isUndefined(h)||(h=""+h);var g=s(this._isDirected,f,d,h);if(e.has(this._edgeLabels,g))return v&&(this._edgeLabels[g]=l),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(d),this._edgeLabels[g]=v?l:this._defaultEdgeLabelFn(f,d,h);var _=u(this._isDirected,f,d,h);return f=_.v,d=_.w,Object.freeze(_),this._edgeObjs[g]=_,i(this._preds[d],f),i(this._sucs[f],d),this._in[d][g]=_,this._out[f][g]=_,this._edgeCount++,this},a.prototype.edge=function(f,d,h){var l=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,f,d,h);return this._edgeLabels[l]},a.prototype.hasEdge=function(f,d,h){var l=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,f,d,h);return e.has(this._edgeLabels,l)},a.prototype.removeEdge=function(f,d,h){var l=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,f,d,h),v=this._edgeObjs[l];return v&&(f=v.v,d=v.w,delete this._edgeLabels[l],delete this._edgeObjs[l],o(this._preds[d],f),o(this._sucs[f],d),delete this._in[d][l],delete this._out[f][l],this._edgeCount--),this},a.prototype.inEdges=function(f,d){var h=this._in[f];if(h){var l=e.values(h);return d?e.filter(l,function(v){return v.v===d}):l}},a.prototype.outEdges=function(f,d){var h=this._out[f];if(h){var l=e.values(h);return d?e.filter(l,function(v){return v.w===d}):l}},a.prototype.nodeEdges=function(f,d){var h=this.inEdges(f,d);if(h)return h.concat(this.outEdges(f,d))};function i(f,d){f[d]?f[d]++:f[d]=1}function o(f,d){--f[d]||delete f[d]}function s(f,d,h,l){var v=""+d,p=""+h;if(!f&&v>p){var g=v;v=p,p=g}return v+t+p+t+(e.isUndefined(l)?r:l)}function u(f,d,h,l){var v=""+d,p=""+h;if(!f&&v>p){var g=v;v=p,p=g}var _={v,w:p};return l&&(_.name=l),_}function c(f,d){return s(f,d.v,d.w,d.name)}return oo}var so,Wd;function k_(){return Wd||(Wd=1,so="2.1.8"),so}var uo,Jd;function M_(){return Jd||(Jd=1,uo={Graph:Qs(),version:k_()}),uo}var fo,Zd;function P_(){if(Zd)return fo;Zd=1;var e=we(),r=Qs();fo={write:n,read:i};function n(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:t(o),edges:a(o)};return e.isUndefined(o.graph())||(s.value=e.clone(o.graph())),s}function t(o){return e.map(o.nodes(),function(s){var u=o.node(s),c=o.parent(s),f={v:s};return e.isUndefined(u)||(f.value=u),e.isUndefined(c)||(f.parent=c),f})}function a(o){return e.map(o.edges(),function(s){var u=o.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(u)||(c.value=u),c})}function i(o){var s=new r(o.options).setGraph(o.value);return e.each(o.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(o.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return fo}var co,Qd;function D_(){if(Qd)return co;Qd=1;var e=we();co=r;function r(n){var t={},a=[],i;function o(s){e.has(t,s)||(t[s]=!0,i.push(s),e.each(n.successors(s),o),e.each(n.predecessors(s),o))}return e.each(n.nodes(),function(s){i=[],o(s),i.length&&a.push(i)}),a}return co}var lo,$d;function Cv(){if($d)return lo;$d=1;var e=we();lo=r;function r(){this._arr=[],this._keyIndices={}}return r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(n){return n.key})},r.prototype.has=function(n){return e.has(this._keyIndices,n)},r.prototype.priority=function(n){var t=this._keyIndices[n];if(t!==void 0)return this._arr[t].priority},r.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(n,t){var a=this._keyIndices;if(n=String(n),!e.has(a,n)){var i=this._arr,o=i.length;return a[n]=o,i.push({key:n,priority:t}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},r.prototype.decrease=function(n,t){var a=this._keyIndices[n];if(t>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[a].priority+" New: "+t);this._arr[a].priority=t,this._decrease(a)},r.prototype._heapify=function(n){var t=this._arr,a=2*n,i=a+1,o=n;a<t.length&&(o=t[a].priority<t[o].priority?a:o,i<t.length&&(o=t[i].priority<t[o].priority?i:o),o!==n&&(this._swap(n,o),this._heapify(o)))},r.prototype._decrease=function(n){for(var t=this._arr,a=t[n].priority,i;n!==0&&(i=n>>1,!(t[i].priority<a));)this._swap(n,i),n=i},r.prototype._swap=function(n,t){var a=this._arr,i=this._keyIndices,o=a[n],s=a[t];a[n]=s,a[t]=o,i[s.key]=n,i[o.key]=t},lo}var ho,el;function Ov(){if(el)return ho;el=1;var e=we(),r=Cv();ho=t;var n=e.constant(1);function t(i,o,s,u){return a(i,String(o),s||n,u||function(c){return i.outEdges(c)})}function a(i,o,s,u){var c={},f=new r,d,h,l=function(v){var p=v.v!==d?v.v:v.w,g=c[p],_=s(v),b=h.distance+_;if(_<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+_);b<g.distance&&(g.distance=b,g.predecessor=d,f.decrease(p,b))};for(i.nodes().forEach(function(v){var p=v===o?0:Number.POSITIVE_INFINITY;c[v]={distance:p},f.add(v,p)});f.size()>0&&(d=f.removeMin(),h=c[d],h.distance!==Number.POSITIVE_INFINITY);)u(d).forEach(l);return c}return ho}var vo,rl;function L_(){if(rl)return vo;rl=1;var e=Ov(),r=we();vo=n;function n(t,a,i){return r.transform(t.nodes(),function(o,s){o[s]=e(t,s,a,i)},{})}return vo}var po,nl;function kv(){if(nl)return po;nl=1;var e=we();po=r;function r(n){var t=0,a=[],i={},o=[];function s(u){var c=i[u]={onStack:!0,lowlink:t,index:t++};if(a.push(u),n.successors(u).forEach(function(h){e.has(i,h)?i[h].onStack&&(c.lowlink=Math.min(c.lowlink,i[h].index)):(s(h),c.lowlink=Math.min(c.lowlink,i[h].lowlink))}),c.lowlink===c.index){var f=[],d;do d=a.pop(),i[d].onStack=!1,f.push(d);while(u!==d);o.push(f)}}return n.nodes().forEach(function(u){e.has(i,u)||s(u)}),o}return po}var go,tl;function N_(){if(tl)return go;tl=1;var e=we(),r=kv();go=n;function n(t){return e.filter(r(t),function(a){return a.length>1||a.length===1&&t.hasEdge(a[0],a[0])})}return go}var _o,al;function F_(){if(al)return _o;al=1;var e=we();_o=n;var r=e.constant(1);function n(a,i,o){return t(a,i||r,o||function(s){return a.outEdges(s)})}function t(a,i,o){var s={},u=a.nodes();return u.forEach(function(c){s[c]={},s[c][c]={distance:0},u.forEach(function(f){c!==f&&(s[c][f]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(f){var d=f.v===c?f.w:f.v,h=i(f);s[c][d]={distance:h,predecessor:c}})}),u.forEach(function(c){var f=s[c];u.forEach(function(d){var h=s[d];u.forEach(function(l){var v=h[c],p=f[l],g=h[l],_=v.distance+p.distance;_<g.distance&&(g.distance=_,g.predecessor=p.predecessor)})})}),s}return _o}var bo,il;function Mv(){if(il)return bo;il=1;var e=we();bo=r,r.CycleException=n;function r(t){var a={},i={},o=[];function s(u){if(e.has(i,u))throw new n;e.has(a,u)||(i[u]=!0,a[u]=!0,e.each(t.predecessors(u),s),delete i[u],o.push(u))}if(e.each(t.sinks(),s),e.size(a)!==t.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,bo}var yo,ol;function j_(){if(ol)return yo;ol=1;var e=Mv();yo=r;function r(n){try{e(n)}catch(t){if(t instanceof e.CycleException)return!1;throw t}return!0}return yo}var mo,sl;function Pv(){if(sl)return mo;sl=1;var e=we();mo=r;function r(t,a,i){e.isArray(a)||(a=[a]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),s=[],u={};return e.each(a,function(c){if(!t.hasNode(c))throw new Error("Graph does not have node: "+c);n(t,c,i==="post",u,o,s)}),s}function n(t,a,i,o,s,u){e.has(o,a)||(o[a]=!0,i||u.push(a),e.each(s(a),function(c){n(t,c,i,o,s,u)}),i&&u.push(a))}return mo}var wo,ul;function G_(){if(ul)return wo;ul=1;var e=Pv();wo=r;function r(n,t){return e(n,t,"post")}return wo}var qo,fl;function B_(){if(fl)return qo;fl=1;var e=Pv();qo=r;function r(n,t){return e(n,t,"pre")}return qo}var Eo,cl;function x_(){if(cl)return Eo;cl=1;var e=we(),r=Qs(),n=Cv();Eo=t;function t(a,i){var o=new r,s={},u=new n,c;function f(h){var l=h.v===c?h.w:h.v,v=u.priority(l);if(v!==void 0){var p=i(h);p<v&&(s[l]=c,u.decrease(l,p))}}if(a.nodeCount()===0)return o;e.each(a.nodes(),function(h){u.add(h,Number.POSITIVE_INFINITY),o.setNode(h)}),u.decrease(a.nodes()[0],0);for(var d=!1;u.size()>0;){if(c=u.removeMin(),e.has(s,c))o.setEdge(c,s[c]);else{if(d)throw new Error("Input graph is not connected: "+a);d=!0}a.nodeEdges(c).forEach(f)}return o}return Eo}var Ro,dl;function U_(){return dl||(dl=1,Ro={components:D_(),dijkstra:Ov(),dijkstraAll:L_(),findCycles:N_(),floydWarshall:F_(),isAcyclic:j_(),postorder:G_(),preorder:B_(),prim:x_(),tarjan:kv(),topsort:Mv()}),Ro}var Io,ll;function K_(){if(ll)return Io;ll=1;var e=M_();return Io={Graph:e.Graph,json:P_(),alg:U_(),version:e.version},Io}var $r;if(typeof Ns=="function")try{$r=K_()}catch{}$r||($r=window.graphlib);var Ie=$r,To,hl;function H_(){if(hl)return To;hl=1;var e=av(),r=1,n=4;function t(a){return e(a,r|n)}return To=t,To}var Ao,vl;function qn(){if(vl)return Ao;vl=1;var e=cr(),r=De(),n=hn(),t=me();function a(i,o,s){if(!t(s))return!1;var u=typeof o;return(u=="number"?r(s)&&n(o,s.length):u=="string"&&o in s)?e(s[o],i):!1}return Ao=a,Ao}var So,pl;function z_(){if(pl)return So;pl=1;var e=wn(),r=cr(),n=qn(),t=Qe(),a=Object.prototype,i=a.hasOwnProperty,o=e(function(s,u){s=Object(s);var c=-1,f=u.length,d=f>2?u[2]:void 0;for(d&&n(u[0],u[1],d)&&(f=1);++c<f;)for(var h=u[c],l=t(h),v=-1,p=l.length;++v<p;){var g=l[v],_=s[g];(_===void 0||r(_,a[g])&&!i.call(s,g))&&(s[g]=h[g])}return s});return So=o,So}var Co,gl;function V_(){if(gl)return Co;gl=1;var e=Le(),r=De(),n=ze();function t(a){return function(i,o,s){var u=Object(i);if(!r(i)){var c=e(o,3);i=n(i),o=function(d){return c(u[d],d,u)}}var f=a(i,o,s);return f>-1?u[c?i[f]:f]:void 0}}return Co=t,Co}var Oo,_l;function Y_(){if(_l)return Oo;_l=1;var e=/\s/;function r(n){for(var t=n.length;t--&&e.test(n.charAt(t)););return t}return Oo=r,Oo}var ko,bl;function X_(){if(bl)return ko;bl=1;var e=Y_(),r=/^\s+/;function n(t){return t&&t.slice(0,e(t)+1).replace(r,"")}return ko=n,ko}var Mo,yl;function W_(){if(yl)return Mo;yl=1;var e=X_(),r=me(),n=vr(),t=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function u(c){if(typeof c=="number")return c;if(n(c))return t;if(r(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=r(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=i.test(c);return d||o.test(c)?s(c.slice(2),d?2:8):a.test(c)?t:+c}return Mo=u,Mo}var Po,ml;function Dv(){if(ml)return Po;ml=1;var e=W_(),r=1/0,n=17976931348623157e292;function t(a){if(!a)return a===0?a:0;if(a=e(a),a===r||a===-r){var i=a<0?-1:1;return i*n}return a===a?a:0}return Po=t,Po}var Do,wl;function J_(){if(wl)return Do;wl=1;var e=Dv();function r(n){var t=e(n),a=t%1;return t===t?a?t-a:t:0}return Do=r,Do}var Lo,ql;function Z_(){if(ql)return Lo;ql=1;var e=Tv(),r=Le(),n=J_(),t=Math.max;function a(i,o,s){var u=i==null?0:i.length;if(!u)return-1;var c=s==null?0:n(s);return c<0&&(c=t(u+c,0)),e(i,r(o,3),c)}return Lo=a,Lo}var No,El;function Q_(){if(El)return No;El=1;var e=V_(),r=Z_(),n=e(r);return No=n,No}var Fo,Rl;function Lv(){if(Rl)return Fo;Rl=1;var e=Zs();function r(n){var t=n==null?0:n.length;return t?e(n,1):[]}return Fo=r,Fo}var jo,Il;function $_(){if(Il)return jo;Il=1;var e=Ys(),r=iv(),n=Qe();function t(a,i){return a==null?a:e(a,r(i),n)}return jo=t,jo}var Go,Tl;function eb(){if(Tl)return Go;Tl=1;function e(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}return Go=e,Go}var Bo,Al;function rb(){if(Al)return Bo;Al=1;var e=dn(),r=Xs(),n=Le();function t(a,i){var o={};return i=n(i,3),r(a,function(s,u,c){e(o,u,i(s,u,c))}),o}return Bo=t,Bo}var xo,Sl;function $s(){if(Sl)return xo;Sl=1;var e=vr();function r(n,t,a){for(var i=-1,o=n.length;++i<o;){var s=n[i],u=t(s);if(u!=null&&(c===void 0?u===u&&!e(u):a(u,c)))var c=u,f=s}return f}return xo=r,xo}var Uo,Cl;function nb(){if(Cl)return Uo;Cl=1;function e(r,n){return r>n}return Uo=e,Uo}var Ko,Ol;function tb(){if(Ol)return Ko;Ol=1;var e=$s(),r=nb(),n=$e();function t(a){return a&&a.length?e(a,n,r):void 0}return Ko=t,Ko}var Ho,kl;function Nv(){if(kl)return Ho;kl=1;var e=dn(),r=cr();function n(t,a,i){(i!==void 0&&!r(t[a],i)||i===void 0&&!(a in t))&&e(t,a,i)}return Ho=n,Ho}var zo,Ml;function ab(){if(Ml)return zo;Ml=1;var e=Je(),r=gn(),n=Se(),t="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,s=i.hasOwnProperty,u=o.call(Object);function c(f){if(!n(f)||e(f)!=t)return!1;var d=r(f);if(d===null)return!0;var h=s.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==u}return zo=c,zo}var Vo,Pl;function Fv(){if(Pl)return Vo;Pl=1;function e(r,n){if(!(n==="constructor"&&typeof r[n]=="function")&&n!="__proto__")return r[n]}return Vo=e,Vo}var Yo,Dl;function ib(){if(Dl)return Yo;Dl=1;var e=jr(),r=Qe();function n(t){return e(t,r(t))}return Yo=n,Yo}var Xo,Ll;function ob(){if(Ll)return Xo;Ll=1;var e=Nv(),r=Vh(),n=rv(),t=Yh(),a=tv(),i=Gr(),o=ae(),s=Av(),u=lr(),c=Fr(),f=me(),d=ab(),h=Br(),l=Fv(),v=ib();function p(g,_,b,T,R,F,A){var I=l(g,b),C=l(_,b),O=A.get(C);if(O){e(g,b,O);return}var M=F?F(I,C,b+"",g,_,A):void 0,m=M===void 0;if(m){var B=o(C),W=!B&&u(C),re=!B&&!W&&h(C);M=C,B||W||re?o(I)?M=I:s(I)?M=t(I):W?(m=!1,M=r(C,!0)):re?(m=!1,M=n(C,!0)):M=[]:d(C)||i(C)?(M=I,i(I)?M=v(I):(!f(I)||c(I))&&(M=a(C))):m=!1}m&&(A.set(C,M),R(M,C,T,F,A),A.delete(C)),e(g,b,M)}return Xo=p,Xo}var Wo,Nl;function sb(){if(Nl)return Wo;Nl=1;var e=cn(),r=Nv(),n=Ys(),t=ob(),a=me(),i=Qe(),o=Fv();function s(u,c,f,d,h){u!==c&&n(c,function(l,v){if(h||(h=new e),a(l))t(u,c,v,f,s,d,h);else{var p=d?d(o(u,v),l,v+"",u,c,h):void 0;p===void 0&&(p=l),r(u,v,p)}},i)}return Wo=s,Wo}var Jo,Fl;function ub(){if(Fl)return Jo;Fl=1;var e=wn(),r=qn();function n(t){return e(function(a,i){var o=-1,s=i.length,u=s>1?i[s-1]:void 0,c=s>2?i[2]:void 0;for(u=t.length>3&&typeof u=="function"?(s--,u):void 0,c&&r(i[0],i[1],c)&&(u=s<3?void 0:u,s=1),a=Object(a);++o<s;){var f=i[o];f&&t(a,f,o,u)}return a})}return Jo=n,Jo}var Zo,jl;function fb(){if(jl)return Zo;jl=1;var e=sb(),r=ub(),n=r(function(t,a,i){e(t,a,i)});return Zo=n,Zo}var Qo,Gl;function jv(){if(Gl)return Qo;Gl=1;function e(r,n){return r<n}return Qo=e,Qo}var $o,Bl;function cb(){if(Bl)return $o;Bl=1;var e=$s(),r=jv(),n=$e();function t(a){return a&&a.length?e(a,n,r):void 0}return $o=t,$o}var es,xl;function db(){if(xl)return es;xl=1;var e=$s(),r=Le(),n=jv();function t(a,i){return a&&a.length?e(a,r(i,2),n):void 0}return es=t,es}var rs,Ul;function lb(){if(Ul)return rs;Ul=1;var e=Re(),r=function(){return e.Date.now()};return rs=r,rs}var ns,Kl;function hb(){if(Kl)return ns;Kl=1;var e=ln(),r=yn(),n=hn(),t=me(),a=xr();function i(o,s,u,c){if(!t(o))return o;s=r(s,o);for(var f=-1,d=s.length,h=d-1,l=o;l!=null&&++f<d;){var v=a(s[f]),p=u;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(f!=h){var g=l[v];p=c?c(g,v,l):void 0,p===void 0&&(p=t(g)?g:n(s[f+1])?[]:{})}e(l,v,p),l=l[v]}return o}return ns=i,ns}var ts,Hl;function vb(){if(Hl)return ts;Hl=1;var e=mn(),r=hb(),n=yn();function t(a,i,o){for(var s=-1,u=i.length,c={};++s<u;){var f=i[s],d=e(a,f);o(d,f)&&r(c,n(f,a),d)}return c}return ts=t,ts}var as,zl;function pb(){if(zl)return as;zl=1;var e=vb(),r=gv();function n(t,a){return e(t,a,function(i,o){return r(t,o)})}return as=n,as}var is,Vl;function gb(){if(Vl)return is;Vl=1;var e=Lv(),r=Rv(),n=Iv();function t(a){return n(r(a,void 0,e),a+"")}return is=t,is}var os,Yl;function _b(){if(Yl)return os;Yl=1;var e=pb(),r=gb(),n=r(function(t,a){return t==null?{}:e(t,a)});return os=n,os}var ss,Xl;function bb(){if(Xl)return ss;Xl=1;var e=Math.ceil,r=Math.max;function n(t,a,i,o){for(var s=-1,u=r(e((a-t)/(i||1)),0),c=Array(u);u--;)c[o?u:++s]=t,t+=i;return c}return ss=n,ss}var us,Wl;function yb(){if(Wl)return us;Wl=1;var e=bb(),r=qn(),n=Dv();function t(a){return function(i,o,s){return s&&typeof s!="number"&&r(i,o,s)&&(o=s=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),s=s===void 0?i<o?1:-1:n(s),e(i,o,s,a)}}return us=t,us}var fs,Jl;function mb(){if(Jl)return fs;Jl=1;var e=yb(),r=e();return fs=r,fs}var cs,Zl;function wb(){if(Zl)return cs;Zl=1;function e(r,n){var t=r.length;for(r.sort(n);t--;)r[t]=r[t].value;return r}return cs=e,cs}var ds,Ql;function qb(){if(Ql)return ds;Ql=1;var e=vr();function r(n,t){if(n!==t){var a=n!==void 0,i=n===null,o=n===n,s=e(n),u=t!==void 0,c=t===null,f=t===t,d=e(t);if(!c&&!d&&!s&&n>t||s&&u&&f&&!c&&!d||i&&u&&f||!a&&f||!o)return 1;if(!i&&!s&&!d&&n<t||d&&a&&o&&!i&&!s||c&&a&&o||!u&&o||!f)return-1}return 0}return ds=r,ds}var ls,$l;function Eb(){if($l)return ls;$l=1;var e=qb();function r(n,t,a){for(var i=-1,o=n.criteria,s=t.criteria,u=o.length,c=a.length;++i<u;){var f=e(o[i],s[i]);if(f){if(i>=c)return f;var d=a[i];return f*(d=="desc"?-1:1)}}return n.index-t.index}return ls=r,ls}var hs,eh;function Rb(){if(eh)return hs;eh=1;var e=bn(),r=mn(),n=Le(),t=wv(),a=wb(),i=vn(),o=Eb(),s=$e(),u=ae();function c(f,d,h){d.length?d=e(d,function(p){return u(p)?function(g){return r(g,p.length===1?p[0]:p)}:p}):d=[s];var l=-1;d=e(d,i(n));var v=t(f,function(p,g,_){var b=e(d,function(T){return T(p)});return{criteria:b,index:++l,value:p}});return a(v,function(p,g){return o(p,g,h)})}return hs=c,hs}var vs,rh;function Ib(){if(rh)return vs;rh=1;var e=Zs(),r=Rb(),n=wn(),t=qn(),a=n(function(i,o){if(i==null)return[];var s=o.length;return s>1&&t(i,o[0],o[1])?o=[]:s>2&&t(o[0],o[1],o[2])&&(o=[o[0]]),r(i,e(o,1),[])});return vs=a,vs}var ps,nh;function Tb(){if(nh)return ps;nh=1;var e=vv(),r=0;function n(t){var a=++r;return e(t)+a}return ps=n,ps}var gs,th;function Ab(){if(th)return gs;th=1;function e(r,n,t){for(var a=-1,i=r.length,o=n.length,s={};++a<i;){var u=a<o?n[a]:void 0;t(s,r[a],u)}return s}return gs=e,gs}var _s,ah;function Sb(){if(ah)return _s;ah=1;var e=ln(),r=Ab();function n(t,a){return r(t||[],a||[],e)}return _s=n,_s}var en;if(typeof Ns=="function")try{en={cloneDeep:H_(),constant:Vs(),defaults:z_(),each:sv(),filter:bv(),find:Q_(),flatten:Lv(),forEach:ov(),forIn:$_(),has:yv(),isUndefined:mv(),last:eb(),map:qv(),mapValues:rb(),max:tb(),merge:fb(),min:cb(),minBy:db(),now:lb(),pick:_b(),range:mb(),reduce:Ev(),sortBy:Ib(),uniqueId:Tb(),values:Sv(),zipObject:Sb()}}catch{}en||(en=window._);var ee=en,Cb=En;function En(){var e={};e._next=e._prev=e,this._sentinel=e}En.prototype.dequeue=function(){var e=this._sentinel,r=e._prev;if(r!==e)return Gv(r),r};En.prototype.enqueue=function(e){var r=this._sentinel;e._prev&&e._next&&Gv(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r};En.prototype.toString=function(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,Ob)),n=n._prev;return"["+e.join(", ")+"]"};function Gv(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Ob(e,r){if(e!=="_next"&&e!=="_prev")return r}var Oe=ee,kb=Ie.Graph,Mb=Cb,Pb=Lb,Db=Oe.constant(1);function Lb(e,r){if(e.nodeCount()<=1)return[];var n=Fb(e,r||Db),t=Nb(n.graph,n.buckets,n.zeroIdx);return Oe.flatten(Oe.map(t,function(a){return e.outEdges(a.v,a.w)}),!0)}function Nb(e,r,n){for(var t=[],a=r[r.length-1],i=r[0],o;e.nodeCount();){for(;o=i.dequeue();)bs(e,r,n,o);for(;o=a.dequeue();)bs(e,r,n,o);if(e.nodeCount()){for(var s=r.length-2;s>0;--s)if(o=r[s].dequeue(),o){t=t.concat(bs(e,r,n,o,!0));break}}}return t}function bs(e,r,n,t,a){var i=a?[]:void 0;return Oe.forEach(e.inEdges(t.v),function(o){var s=e.edge(o),u=e.node(o.v);a&&i.push({v:o.v,w:o.w}),u.out-=s,Ss(r,n,u)}),Oe.forEach(e.outEdges(t.v),function(o){var s=e.edge(o),u=o.w,c=e.node(u);c.in-=s,Ss(r,n,c)}),e.removeNode(t.v),i}function Fb(e,r){var n=new kb,t=0,a=0;Oe.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),Oe.forEach(e.edges(),function(s){var u=n.edge(s.v,s.w)||0,c=r(s),f=u+c;n.setEdge(s.v,s.w,f),a=Math.max(a,n.node(s.v).out+=c),t=Math.max(t,n.node(s.w).in+=c)});var i=Oe.range(a+t+3).map(function(){return new Mb}),o=t+1;return Oe.forEach(n.nodes(),function(s){Ss(i,o,n.node(s))}),{graph:n,buckets:i,zeroIdx:o}}function Ss(e,r,n){n.out?n.in?e[n.out-n.in+r].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Xe=ee,jb=Pb,Gb={run:Bb,undo:Ub};function Bb(e){var r=e.graph().acyclicer==="greedy"?jb(e,n(e)):xb(e);Xe.forEach(r,function(t){var a=e.edge(t);e.removeEdge(t),a.forwardName=t.name,a.reversed=!0,e.setEdge(t.w,t.v,a,Xe.uniqueId("rev"))});function n(t){return function(a){return t.edge(a).weight}}}function xb(e){var r=[],n={},t={};function a(i){Xe.has(t,i)||(t[i]=!0,n[i]=!0,Xe.forEach(e.outEdges(i),function(o){Xe.has(n,o.w)?r.push(o):a(o.w)}),delete n[i])}return Xe.forEach(e.nodes(),a),r}function Ub(e){Xe.forEach(e.edges(),function(r){var n=e.edge(r);if(n.reversed){e.removeEdge(r);var t=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(r.w,r.v,n,t)}})}var J=ee,Bv=Ie.Graph,ve={addDummyNode:xv,simplify:Kb,asNonCompoundGraph:Hb,successorWeights:zb,predecessorWeights:Vb,intersectRect:Yb,buildLayerMatrix:Xb,normalizeRanks:Wb,removeEmptyRanks:Jb,addBorderNode:Zb,maxRank:Uv,partition:Qb,time:$b,notime:ey};function xv(e,r,n,t){var a;do a=J.uniqueId(t);while(e.hasNode(a));return n.dummy=r,e.setNode(a,n),a}function Kb(e){var r=new Bv().setGraph(e.graph());return J.forEach(e.nodes(),function(n){r.setNode(n,e.node(n))}),J.forEach(e.edges(),function(n){var t=r.edge(n.v,n.w)||{weight:0,minlen:1},a=e.edge(n);r.setEdge(n.v,n.w,{weight:t.weight+a.weight,minlen:Math.max(t.minlen,a.minlen)})}),r}function Hb(e){var r=new Bv({multigraph:e.isMultigraph()}).setGraph(e.graph());return J.forEach(e.nodes(),function(n){e.children(n).length||r.setNode(n,e.node(n))}),J.forEach(e.edges(),function(n){r.setEdge(n,e.edge(n))}),r}function zb(e){var r=J.map(e.nodes(),function(n){var t={};return J.forEach(e.outEdges(n),function(a){t[a.w]=(t[a.w]||0)+e.edge(a).weight}),t});return J.zipObject(e.nodes(),r)}function Vb(e){var r=J.map(e.nodes(),function(n){var t={};return J.forEach(e.inEdges(n),function(a){t[a.v]=(t[a.v]||0)+e.edge(a).weight}),t});return J.zipObject(e.nodes(),r)}function Yb(e,r){var n=e.x,t=e.y,a=r.x-n,i=r.y-t,o=e.width/2,s=e.height/2;if(!a&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var u,c;return Math.abs(i)*o>Math.abs(a)*s?(i<0&&(s=-s),u=s*a/i,c=s):(a<0&&(o=-o),u=o,c=o*i/a),{x:n+u,y:t+c}}function Xb(e){var r=J.map(J.range(Uv(e)+1),function(){return[]});return J.forEach(e.nodes(),function(n){var t=e.node(n),a=t.rank;J.isUndefined(a)||(r[a][t.order]=n)}),r}function Wb(e){var r=J.min(J.map(e.nodes(),function(n){return e.node(n).rank}));J.forEach(e.nodes(),function(n){var t=e.node(n);J.has(t,"rank")&&(t.rank-=r)})}function Jb(e){var r=J.min(J.map(e.nodes(),function(i){return e.node(i).rank})),n=[];J.forEach(e.nodes(),function(i){var o=e.node(i).rank-r;n[o]||(n[o]=[]),n[o].push(i)});var t=0,a=e.graph().nodeRankFactor;J.forEach(n,function(i,o){J.isUndefined(i)&&o%a!==0?--t:t&&J.forEach(i,function(s){e.node(s).rank+=t})})}function Zb(e,r,n,t){var a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=t),xv(e,"border",a,r)}function Uv(e){return J.max(J.map(e.nodes(),function(r){var n=e.node(r).rank;if(!J.isUndefined(n))return n}))}function Qb(e,r){var n={lhs:[],rhs:[]};return J.forEach(e,function(t){r(t)?n.lhs.push(t):n.rhs.push(t)}),n}function $b(e,r){var n=J.now();try{return r()}finally{console.log(e+" time: "+(J.now()-n)+"ms")}}function ey(e,r){return r()}var Kv=ee,ry=ve,ny={run:ty,undo:iy};function ty(e){e.graph().dummyChains=[],Kv.forEach(e.edges(),function(r){ay(e,r)})}function ay(e,r){var n=r.v,t=e.node(n).rank,a=r.w,i=e.node(a).rank,o=r.name,s=e.edge(r),u=s.labelRank;if(i!==t+1){e.removeEdge(r);var c,f,d;for(d=0,++t;t<i;++d,++t)s.points=[],f={width:0,height:0,edgeLabel:s,edgeObj:r,rank:t},c=ry.addDummyNode(e,"edge",f,"_d"),t===u&&(f.width=s.width,f.height=s.height,f.dummy="edge-label",f.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},o),d===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,a,{weight:s.weight},o)}}function iy(e){Kv.forEach(e.graph().dummyChains,function(r){var n=e.node(r),t=n.edgeLabel,a;for(e.setEdge(n.edgeObj,t);n.dummy;)a=e.successors(r)[0],e.removeNode(r),t.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height),r=a,n=e.node(r)})}var Vr=ee,Rn={longestPath:oy,slack:sy};function oy(e){var r={};function n(t){var a=e.node(t);if(Vr.has(r,t))return a.rank;r[t]=!0;var i=Vr.min(Vr.map(e.outEdges(t),function(o){return n(o.w)-e.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),a.rank=i}Vr.forEach(e.sources(),n)}function sy(e,r){return e.node(r.w).rank-e.node(r.v).rank-e.edge(r).minlen}var rn=ee,uy=Ie.Graph,nn=Rn.slack,Hv=fy;function fy(e){var r=new uy({directed:!1}),n=e.nodes()[0],t=e.nodeCount();r.setNode(n,{});for(var a,i;cy(r,e)<t;)a=dy(r,e),i=r.hasNode(a.v)?nn(e,a):-nn(e,a),ly(r,e,i);return r}function cy(e,r){function n(t){rn.forEach(r.nodeEdges(t),function(a){var i=a.v,o=t===i?a.w:i;!e.hasNode(o)&&!nn(r,a)&&(e.setNode(o,{}),e.setEdge(t,o,{}),n(o))})}return rn.forEach(e.nodes(),n),e.nodeCount()}function dy(e,r){return rn.minBy(r.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return nn(r,n)})}function ly(e,r,n){rn.forEach(e.nodes(),function(t){r.node(t).rank+=n})}var Pe=ee,hy=Hv,vy=Rn.slack,py=Rn.longestPath,gy=Ie.alg.preorder,_y=Ie.alg.postorder,by=ve.simplify,yy=er;er.initLowLimValues=ru;er.initCutValues=eu;er.calcCutValue=zv;er.leaveEdge=Yv;er.enterEdge=Xv;er.exchangeEdges=Wv;function er(e){e=by(e),py(e);var r=hy(e);ru(r),eu(r,e);for(var n,t;n=Yv(r);)t=Xv(r,e,n),Wv(r,e,n,t)}function eu(e,r){var n=_y(e,e.nodes());n=n.slice(0,n.length-1),Pe.forEach(n,function(t){my(e,r,t)})}function my(e,r,n){var t=e.node(n),a=t.parent;e.edge(n,a).cutvalue=zv(e,r,n)}function zv(e,r,n){var t=e.node(n),a=t.parent,i=!0,o=r.edge(n,a),s=0;return o||(i=!1,o=r.edge(a,n)),s=o.weight,Pe.forEach(r.nodeEdges(n),function(u){var c=u.v===n,f=c?u.w:u.v;if(f!==a){var d=c===i,h=r.edge(u).weight;if(s+=d?h:-h,qy(e,n,f)){var l=e.edge(n,f).cutvalue;s+=d?-l:l}}}),s}function ru(e,r){arguments.length<2&&(r=e.nodes()[0]),Vv(e,{},1,r)}function Vv(e,r,n,t,a){var i=n,o=e.node(t);return r[t]=!0,Pe.forEach(e.neighbors(t),function(s){Pe.has(r,s)||(n=Vv(e,r,n,s,t))}),o.low=i,o.lim=n++,a?o.parent=a:delete o.parent,n}function Yv(e){return Pe.find(e.edges(),function(r){return e.edge(r).cutvalue<0})}function Xv(e,r,n){var t=n.v,a=n.w;r.hasEdge(t,a)||(t=n.w,a=n.v);var i=e.node(t),o=e.node(a),s=i,u=!1;i.lim>o.lim&&(s=o,u=!0);var c=Pe.filter(r.edges(),function(f){return u===ih(e,e.node(f.v),s)&&u!==ih(e,e.node(f.w),s)});return Pe.minBy(c,function(f){return vy(r,f)})}function Wv(e,r,n,t){var a=n.v,i=n.w;e.removeEdge(a,i),e.setEdge(t.v,t.w,{}),ru(e),eu(e,r),wy(e,r)}function wy(e,r){var n=Pe.find(e.nodes(),function(a){return!r.node(a).parent}),t=gy(e,n);t=t.slice(1),Pe.forEach(t,function(a){var i=e.node(a).parent,o=r.edge(a,i),s=!1;o||(o=r.edge(i,a),s=!0),r.node(a).rank=r.node(i).rank+(s?o.minlen:-o.minlen)})}function qy(e,r,n){return e.hasEdge(r,n)}function ih(e,r,n){return n.low<=r.lim&&r.lim<=n.lim}var Ey=Rn,Jv=Ey.longestPath,Ry=Hv,Iy=yy,Ty=Ay;function Ay(e){switch(e.graph().ranker){case"network-simplex":oh(e);break;case"tight-tree":Cy(e);break;case"longest-path":Sy(e);break;default:oh(e)}}var Sy=Jv;function Cy(e){Jv(e),Ry(e)}function oh(e){Iy(e)}var Cs=ee,Oy=ky;function ky(e){var r=Py(e);Cs.forEach(e.graph().dummyChains,function(n){for(var t=e.node(n),a=t.edgeObj,i=My(e,r,a.v,a.w),o=i.path,s=i.lca,u=0,c=o[u],f=!0;n!==a.w;){if(t=e.node(n),f){for(;(c=o[u])!==s&&e.node(c).maxRank<t.rank;)u++;c===s&&(f=!1)}if(!f){for(;u<o.length-1&&e.node(c=o[u+1]).minRank<=t.rank;)u++;c=o[u]}e.setParent(n,c),n=e.successors(n)[0]}})}function My(e,r,n,t){var a=[],i=[],o=Math.min(r[n].low,r[t].low),s=Math.max(r[n].lim,r[t].lim),u,c;u=n;do u=e.parent(u),a.push(u);while(u&&(r[u].low>o||s>r[u].lim));for(c=u,u=t;(u=e.parent(u))!==c;)i.push(u);return{path:a.concat(i.reverse()),lca:c}}function Py(e){var r={},n=0;function t(a){var i=n;Cs.forEach(e.children(a),t),r[a]={low:i,lim:n++}}return Cs.forEach(e.children(),t),r}var ke=ee,Os=ve,Dy={run:Ly,cleanup:jy};function Ly(e){var r=Os.addDummyNode(e,"root",{},"_root"),n=Ny(e),t=ke.max(ke.values(n))-1,a=2*t+1;e.graph().nestingRoot=r,ke.forEach(e.edges(),function(o){e.edge(o).minlen*=a});var i=Fy(e)+1;ke.forEach(e.children(),function(o){Zv(e,r,a,i,t,n,o)}),e.graph().nodeRankFactor=a}function Zv(e,r,n,t,a,i,o){var s=e.children(o);if(!s.length){o!==r&&e.setEdge(r,o,{weight:0,minlen:n});return}var u=Os.addBorderNode(e,"_bt"),c=Os.addBorderNode(e,"_bb"),f=e.node(o);e.setParent(u,o),f.borderTop=u,e.setParent(c,o),f.borderBottom=c,ke.forEach(s,function(d){Zv(e,r,n,t,a,i,d);var h=e.node(d),l=h.borderTop?h.borderTop:d,v=h.borderBottom?h.borderBottom:d,p=h.borderTop?t:2*t,g=l!==v?1:a-i[o]+1;e.setEdge(u,l,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(v,c,{weight:p,minlen:g,nestingEdge:!0})}),e.parent(o)||e.setEdge(r,u,{weight:0,minlen:a+i[o]})}function Ny(e){var r={};function n(t,a){var i=e.children(t);i&&i.length&&ke.forEach(i,function(o){n(o,a+1)}),r[t]=a}return ke.forEach(e.children(),function(t){n(t,1)}),r}function Fy(e){return ke.reduce(e.edges(),function(r,n){return r+e.edge(n).weight},0)}function jy(e){var r=e.graph();e.removeNode(r.nestingRoot),delete r.nestingRoot,ke.forEach(e.edges(),function(n){var t=e.edge(n);t.nestingEdge&&e.removeEdge(n)})}var ys=ee,Gy=ve,By=xy;function xy(e){function r(n){var t=e.children(n),a=e.node(n);if(t.length&&ys.forEach(t,r),ys.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var i=a.minRank,o=a.maxRank+1;i<o;++i)sh(e,"borderLeft","_bl",n,a,i),sh(e,"borderRight","_br",n,a,i)}}ys.forEach(e.children(),r)}function sh(e,r,n,t,a,i){var o={width:0,height:0,rank:i,borderType:r},s=a[r][i-1],u=Gy.addDummyNode(e,"border",o,n);a[r][i]=u,e.setParent(u,t),s&&e.setEdge(s,u,{weight:1})}var Ae=ee,Uy={adjust:Ky,undo:Hy};function Ky(e){var r=e.graph().rankdir.toLowerCase();(r==="lr"||r==="rl")&&Qv(e)}function Hy(e){var r=e.graph().rankdir.toLowerCase();(r==="bt"||r==="rl")&&zy(e),(r==="lr"||r==="rl")&&(Vy(e),Qv(e))}function Qv(e){Ae.forEach(e.nodes(),function(r){uh(e.node(r))}),Ae.forEach(e.edges(),function(r){uh(e.edge(r))})}function uh(e){var r=e.width;e.width=e.height,e.height=r}function zy(e){Ae.forEach(e.nodes(),function(r){ms(e.node(r))}),Ae.forEach(e.edges(),function(r){var n=e.edge(r);Ae.forEach(n.points,ms),Ae.has(n,"y")&&ms(n)})}function ms(e){e.y=-e.y}function Vy(e){Ae.forEach(e.nodes(),function(r){ws(e.node(r))}),Ae.forEach(e.edges(),function(r){var n=e.edge(r);Ae.forEach(n.points,ws),Ae.has(n,"x")&&ws(n)})}function ws(e){var r=e.x;e.x=e.y,e.y=r}var Ce=ee,Yy=Xy;function Xy(e){var r={},n=Ce.filter(e.nodes(),function(s){return!e.children(s).length}),t=Ce.max(Ce.map(n,function(s){return e.node(s).rank})),a=Ce.map(Ce.range(t+1),function(){return[]});function i(s){if(!Ce.has(r,s)){r[s]=!0;var u=e.node(s);a[u.rank].push(s),Ce.forEach(e.successors(s),i)}}var o=Ce.sortBy(n,function(s){return e.node(s).rank});return Ce.forEach(o,i),a}var Ge=ee,Wy=Jy;function Jy(e,r){for(var n=0,t=1;t<r.length;++t)n+=Zy(e,r[t-1],r[t]);return n}function Zy(e,r,n){for(var t=Ge.zipObject(n,Ge.map(n,function(c,f){return f})),a=Ge.flatten(Ge.map(r,function(c){return Ge.sortBy(Ge.map(e.outEdges(c),function(f){return{pos:t[f.w],weight:e.edge(f).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var o=2*i-1;i-=1;var s=Ge.map(new Array(o),function(){return 0}),u=0;return Ge.forEach(a.forEach(function(c){var f=c.pos+i;s[f]+=c.weight;for(var d=0;f>0;)f%2&&(d+=s[f+1]),f=f-1>>1,s[f]+=c.weight;u+=c.weight*d})),u}var fh=ee,Qy=$y;function $y(e,r){return fh.map(r,function(n){var t=e.inEdges(n);if(t.length){var a=fh.reduce(t,function(i,o){var s=e.edge(o),u=e.node(o.v);return{sum:i.sum+s.weight*u.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:n}})}var pe=ee,em=rm;function rm(e,r){var n={};pe.forEach(e,function(a,i){var o=n[a.v]={indegree:0,in:[],out:[],vs:[a.v],i};pe.isUndefined(a.barycenter)||(o.barycenter=a.barycenter,o.weight=a.weight)}),pe.forEach(r.edges(),function(a){var i=n[a.v],o=n[a.w];!pe.isUndefined(i)&&!pe.isUndefined(o)&&(o.indegree++,i.out.push(n[a.w]))});var t=pe.filter(n,function(a){return!a.indegree});return nm(t)}function nm(e){var r=[];function n(i){return function(o){o.merged||(pe.isUndefined(o.barycenter)||pe.isUndefined(i.barycenter)||o.barycenter>=i.barycenter)&&tm(i,o)}}function t(i){return function(o){o.in.push(i),--o.indegree===0&&e.push(o)}}for(;e.length;){var a=e.pop();r.push(a),pe.forEach(a.in.reverse(),n(a)),pe.forEach(a.out,t(a))}return pe.map(pe.filter(r,function(i){return!i.merged}),function(i){return pe.pick(i,["vs","i","barycenter","weight"])})}function tm(e,r){var n=0,t=0;e.weight&&(n+=e.barycenter*e.weight,t+=e.weight),r.weight&&(n+=r.barycenter*r.weight,t+=r.weight),e.vs=r.vs.concat(e.vs),e.barycenter=n/t,e.weight=t,e.i=Math.min(r.i,e.i),r.merged=!0}var Tr=ee,am=ve,im=om;function om(e,r){var n=am.partition(e,function(f){return Tr.has(f,"barycenter")}),t=n.lhs,a=Tr.sortBy(n.rhs,function(f){return-f.i}),i=[],o=0,s=0,u=0;t.sort(sm(!!r)),u=ch(i,a,u),Tr.forEach(t,function(f){u+=f.vs.length,i.push(f.vs),o+=f.barycenter*f.weight,s+=f.weight,u=ch(i,a,u)});var c={vs:Tr.flatten(i,!0)};return s&&(c.barycenter=o/s,c.weight=s),c}function ch(e,r,n){for(var t;r.length&&(t=Tr.last(r)).i<=n;)r.pop(),e.push(t.vs),n++;return n}function sm(e){return function(r,n){return r.barycenter<n.barycenter?-1:r.barycenter>n.barycenter?1:e?n.i-r.i:r.i-n.i}}var Be=ee,um=Qy,fm=em,cm=im,dm=$v;function $v(e,r,n,t){var a=e.children(r),i=e.node(r),o=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,u={};o&&(a=Be.filter(a,function(v){return v!==o&&v!==s}));var c=um(e,a);Be.forEach(c,function(v){if(e.children(v.v).length){var p=$v(e,v.v,n,t);u[v.v]=p,Be.has(p,"barycenter")&&hm(v,p)}});var f=fm(c,n);lm(f,u);var d=cm(f,t);if(o&&(d.vs=Be.flatten([o,d.vs,s],!0),e.predecessors(o).length)){var h=e.node(e.predecessors(o)[0]),l=e.node(e.predecessors(s)[0]);Be.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+h.order+l.order)/(d.weight+2),d.weight+=2}return d}function lm(e,r){Be.forEach(e,function(n){n.vs=Be.flatten(n.vs.map(function(t){return r[t]?r[t].vs:t}),!0)})}function hm(e,r){Be.isUndefined(e.barycenter)?(e.barycenter=r.barycenter,e.weight=r.weight):(e.barycenter=(e.barycenter*e.weight+r.barycenter*r.weight)/(e.weight+r.weight),e.weight+=r.weight)}var Ar=ee,vm=Ie.Graph,pm=gm;function gm(e,r,n){var t=_m(e),a=new vm({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(i){return e.node(i)});return Ar.forEach(e.nodes(),function(i){var o=e.node(i),s=e.parent(i);(o.rank===r||o.minRank<=r&&r<=o.maxRank)&&(a.setNode(i),a.setParent(i,s||t),Ar.forEach(e[n](i),function(u){var c=u.v===i?u.w:u.v,f=a.edge(c,i),d=Ar.isUndefined(f)?0:f.weight;a.setEdge(c,i,{weight:e.edge(u).weight+d})}),Ar.has(o,"minRank")&&a.setNode(i,{borderLeft:o.borderLeft[r],borderRight:o.borderRight[r]}))}),a}function _m(e){for(var r;e.hasNode(r=Ar.uniqueId("_root")););return r}var bm=ee,ym=mm;function mm(e,r,n){var t={},a;bm.forEach(n,function(i){for(var o=e.parent(i),s,u;o;){if(s=e.parent(o),s?(u=t[s],t[s]=o):(u=a,a=o),u&&u!==o){r.setEdge(u,o);return}o=s}})}var Ue=ee,wm=Yy,qm=Wy,Em=dm,Rm=pm,Im=ym,Tm=Ie.Graph,dh=ve,Am=Sm;function Sm(e){var r=dh.maxRank(e),n=lh(e,Ue.range(1,r+1),"inEdges"),t=lh(e,Ue.range(r-1,-1,-1),"outEdges"),a=wm(e);hh(e,a);for(var i=Number.POSITIVE_INFINITY,o,s=0,u=0;u<4;++s,++u){Cm(s%2?n:t,s%4>=2),a=dh.buildLayerMatrix(e);var c=qm(e,a);c<i&&(u=0,o=Ue.cloneDeep(a),i=c)}hh(e,o)}function lh(e,r,n){return Ue.map(r,function(t){return Rm(e,t,n)})}function Cm(e,r){var n=new Tm;Ue.forEach(e,function(t){var a=t.graph().root,i=Em(t,a,n,r);Ue.forEach(i.vs,function(o,s){t.node(o).order=s}),Im(t,n,i.vs)})}function hh(e,r){Ue.forEach(r,function(n){Ue.forEach(n,function(t,a){e.node(t).order=a})})}var j=ee,Om=Ie.Graph,km=ve,Mm={positionX:Km};function Pm(e,r){var n={};function t(a,i){var o=0,s=0,u=a.length,c=j.last(i);return j.forEach(i,function(f,d){var h=Lm(e,f),l=h?e.node(h).order:u;(h||f===c)&&(j.forEach(i.slice(s,d+1),function(v){j.forEach(e.predecessors(v),function(p){var g=e.node(p),_=g.order;(_<o||l<_)&&!(g.dummy&&e.node(v).dummy)&&ep(n,p,v)})}),s=d+1,o=l)}),i}return j.reduce(r,t),n}function Dm(e,r){var n={};function t(i,o,s,u,c){var f;j.forEach(j.range(o,s),function(d){f=i[d],e.node(f).dummy&&j.forEach(e.predecessors(f),function(h){var l=e.node(h);l.dummy&&(l.order<u||l.order>c)&&ep(n,h,f)})})}function a(i,o){var s=-1,u,c=0;return j.forEach(o,function(f,d){if(e.node(f).dummy==="border"){var h=e.predecessors(f);h.length&&(u=e.node(h[0]).order,t(o,c,d,s,u),c=d,s=u)}t(o,c,o.length,u,i.length)}),o}return j.reduce(r,a),n}function Lm(e,r){if(e.node(r).dummy)return j.find(e.predecessors(r),function(n){return e.node(n).dummy})}function ep(e,r,n){if(r>n){var t=r;r=n,n=t}var a=e[r];a||(e[r]=a={}),a[n]=!0}function Nm(e,r,n){if(r>n){var t=r;r=n,n=t}return j.has(e[r],n)}function Fm(e,r,n,t){var a={},i={},o={};return j.forEach(r,function(s){j.forEach(s,function(u,c){a[u]=u,i[u]=u,o[u]=c})}),j.forEach(r,function(s){var u=-1;j.forEach(s,function(c){var f=t(c);if(f.length){f=j.sortBy(f,function(p){return o[p]});for(var d=(f.length-1)/2,h=Math.floor(d),l=Math.ceil(d);h<=l;++h){var v=f[h];i[c]===c&&u<o[v]&&!Nm(n,c,v)&&(i[v]=c,i[c]=a[c]=a[v],u=o[v])}}})}),{root:a,align:i}}function jm(e,r,n,t,a){var i={},o=Gm(e,r,n,a),s=a?"borderLeft":"borderRight";function u(d,h){for(var l=o.nodes(),v=l.pop(),p={};v;)p[v]?d(v):(p[v]=!0,l.push(v),l=l.concat(h(v))),v=l.pop()}function c(d){i[d]=o.inEdges(d).reduce(function(h,l){return Math.max(h,i[l.v]+o.edge(l))},0)}function f(d){var h=o.outEdges(d).reduce(function(v,p){return Math.min(v,i[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),l=e.node(d);h!==Number.POSITIVE_INFINITY&&l.borderType!==s&&(i[d]=Math.max(i[d],h))}return u(c,o.predecessors.bind(o)),u(f,o.successors.bind(o)),j.forEach(t,function(d){i[d]=i[n[d]]}),i}function Gm(e,r,n,t){var a=new Om,i=e.graph(),o=Hm(i.nodesep,i.edgesep,t);return j.forEach(r,function(s){var u;j.forEach(s,function(c){var f=n[c];if(a.setNode(f),u){var d=n[u],h=a.edge(d,f);a.setEdge(d,f,Math.max(o(e,c,u),h||0))}u=c})}),a}function Bm(e,r){return j.minBy(j.values(r),function(n){var t=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return j.forIn(n,function(i,o){var s=zm(e,o)/2;t=Math.max(i+s,t),a=Math.min(i-s,a)}),t-a})}function xm(e,r){var n=j.values(r),t=j.min(n),a=j.max(n);j.forEach(["u","d"],function(i){j.forEach(["l","r"],function(o){var s=i+o,u=e[s],c;if(u!==r){var f=j.values(u);c=o==="l"?t-j.min(f):a-j.max(f),c&&(e[s]=j.mapValues(u,function(d){return d+c}))}})})}function Um(e,r){return j.mapValues(e.ul,function(n,t){if(r)return e[r.toLowerCase()][t];var a=j.sortBy(j.map(e,t));return(a[1]+a[2])/2})}function Km(e){var r=km.buildLayerMatrix(e),n=j.merge(Pm(e,r),Dm(e,r)),t={},a;j.forEach(["u","d"],function(o){a=o==="u"?r:j.values(r).reverse(),j.forEach(["l","r"],function(s){s==="r"&&(a=j.map(a,function(d){return j.values(d).reverse()}));var u=(o==="u"?e.predecessors:e.successors).bind(e),c=Fm(e,a,n,u),f=jm(e,a,c.root,c.align,s==="r");s==="r"&&(f=j.mapValues(f,function(d){return-d})),t[o+s]=f})});var i=Bm(e,t);return xm(t,i),Um(t,e.graph().align)}function Hm(e,r,n){return function(t,a,i){var o=t.node(a),s=t.node(i),u=0,c;if(u+=o.width/2,j.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(u+=n?c:-c),c=0,u+=(o.dummy?r:e)/2,u+=(s.dummy?r:e)/2,u+=s.width/2,j.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(u+=n?c:-c),c=0,u}}function zm(e,r){return e.node(r).width}var Sr=ee,rp=ve,Vm=Mm.positionX,Ym=Xm;function Xm(e){e=rp.asNonCompoundGraph(e),Wm(e),Sr.forEach(Vm(e),function(r,n){e.node(n).x=r})}function Wm(e){var r=rp.buildLayerMatrix(e),n=e.graph().ranksep,t=0;Sr.forEach(r,function(a){var i=Sr.max(Sr.map(a,function(o){return e.node(o).height}));Sr.forEach(a,function(o){e.node(o).y=t+i/2}),t+=i+n})}var U=ee,vh=Gb,ph=ny,Jm=Ty,Zm=ve.normalizeRanks,Qm=Oy,$m=ve.removeEmptyRanks,gh=Dy,e1=By,_h=Uy,r1=Am,n1=Ym,He=ve,t1=Ie.Graph,a1=i1;function i1(e,r){var n=r&&r.debugTiming?He.time:He.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return g1(e)});n("  runLayout",function(){o1(t,n)}),n("  updateInputGraph",function(){s1(e,t)})})}function o1(e,r){r("    makeSpaceForEdgeLabels",function(){_1(e)}),r("    removeSelfEdges",function(){T1(e)}),r("    acyclic",function(){vh.run(e)}),r("    nestingGraph.run",function(){gh.run(e)}),r("    rank",function(){Jm(He.asNonCompoundGraph(e))}),r("    injectEdgeLabelProxies",function(){b1(e)}),r("    removeEmptyRanks",function(){$m(e)}),r("    nestingGraph.cleanup",function(){gh.cleanup(e)}),r("    normalizeRanks",function(){Zm(e)}),r("    assignRankMinMax",function(){y1(e)}),r("    removeEdgeLabelProxies",function(){m1(e)}),r("    normalize.run",function(){ph.run(e)}),r("    parentDummyChains",function(){Qm(e)}),r("    addBorderSegments",function(){e1(e)}),r("    order",function(){r1(e)}),r("    insertSelfEdges",function(){A1(e)}),r("    adjustCoordinateSystem",function(){_h.adjust(e)}),r("    position",function(){n1(e)}),r("    positionSelfEdges",function(){S1(e)}),r("    removeBorderNodes",function(){I1(e)}),r("    normalize.undo",function(){ph.undo(e)}),r("    fixupEdgeLabelCoords",function(){E1(e)}),r("    undoCoordinateSystem",function(){_h.undo(e)}),r("    translateGraph",function(){w1(e)}),r("    assignNodeIntersects",function(){q1(e)}),r("    reversePoints",function(){R1(e)}),r("    acyclic.undo",function(){vh.undo(e)})}function s1(e,r){U.forEach(e.nodes(),function(n){var t=e.node(n),a=r.node(n);t&&(t.x=a.x,t.y=a.y,r.children(n).length&&(t.width=a.width,t.height=a.height))}),U.forEach(e.edges(),function(n){var t=e.edge(n),a=r.edge(n);t.points=a.points,U.has(a,"x")&&(t.x=a.x,t.y=a.y)}),e.graph().width=r.graph().width,e.graph().height=r.graph().height}var u1=["nodesep","edgesep","ranksep","marginx","marginy"],f1={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},c1=["acyclicer","ranker","rankdir","align"],d1=["width","height"],l1={width:0,height:0},h1=["minlen","weight","width","height","labeloffset"],v1={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},p1=["labelpos"];function g1(e){var r=new t1({multigraph:!0,compound:!0}),n=Es(e.graph());return r.setGraph(U.merge({},f1,qs(n,u1),U.pick(n,c1))),U.forEach(e.nodes(),function(t){var a=Es(e.node(t));r.setNode(t,U.defaults(qs(a,d1),l1)),r.setParent(t,e.parent(t))}),U.forEach(e.edges(),function(t){var a=Es(e.edge(t));r.setEdge(t,U.merge({},v1,qs(a,h1),U.pick(a,p1)))}),r}function _1(e){var r=e.graph();r.ranksep/=2,U.forEach(e.edges(),function(n){var t=e.edge(n);t.minlen*=2,t.labelpos.toLowerCase()!=="c"&&(r.rankdir==="TB"||r.rankdir==="BT"?t.width+=t.labeloffset:t.height+=t.labeloffset)})}function b1(e){U.forEach(e.edges(),function(r){var n=e.edge(r);if(n.width&&n.height){var t=e.node(r.v),a=e.node(r.w),i={rank:(a.rank-t.rank)/2+t.rank,e:r};He.addDummyNode(e,"edge-proxy",i,"_ep")}})}function y1(e){var r=0;U.forEach(e.nodes(),function(n){var t=e.node(n);t.borderTop&&(t.minRank=e.node(t.borderTop).rank,t.maxRank=e.node(t.borderBottom).rank,r=U.max(r,t.maxRank))}),e.graph().maxRank=r}function m1(e){U.forEach(e.nodes(),function(r){var n=e.node(r);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(r))})}function w1(e){var r=Number.POSITIVE_INFINITY,n=0,t=Number.POSITIVE_INFINITY,a=0,i=e.graph(),o=i.marginx||0,s=i.marginy||0;function u(c){var f=c.x,d=c.y,h=c.width,l=c.height;r=Math.min(r,f-h/2),n=Math.max(n,f+h/2),t=Math.min(t,d-l/2),a=Math.max(a,d+l/2)}U.forEach(e.nodes(),function(c){u(e.node(c))}),U.forEach(e.edges(),function(c){var f=e.edge(c);U.has(f,"x")&&u(f)}),r-=o,t-=s,U.forEach(e.nodes(),function(c){var f=e.node(c);f.x-=r,f.y-=t}),U.forEach(e.edges(),function(c){var f=e.edge(c);U.forEach(f.points,function(d){d.x-=r,d.y-=t}),U.has(f,"x")&&(f.x-=r),U.has(f,"y")&&(f.y-=t)}),i.width=n-r+o,i.height=a-t+s}function q1(e){U.forEach(e.edges(),function(r){var n=e.edge(r),t=e.node(r.v),a=e.node(r.w),i,o;n.points?(i=n.points[0],o=n.points[n.points.length-1]):(n.points=[],i=a,o=t),n.points.unshift(He.intersectRect(t,i)),n.points.push(He.intersectRect(a,o))})}function E1(e){U.forEach(e.edges(),function(r){var n=e.edge(r);if(U.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function R1(e){U.forEach(e.edges(),function(r){var n=e.edge(r);n.reversed&&n.points.reverse()})}function I1(e){U.forEach(e.nodes(),function(r){if(e.children(r).length){var n=e.node(r),t=e.node(n.borderTop),a=e.node(n.borderBottom),i=e.node(U.last(n.borderLeft)),o=e.node(U.last(n.borderRight));n.width=Math.abs(o.x-i.x),n.height=Math.abs(a.y-t.y),n.x=i.x+n.width/2,n.y=t.y+n.height/2}}),U.forEach(e.nodes(),function(r){e.node(r).dummy==="border"&&e.removeNode(r)})}function T1(e){U.forEach(e.edges(),function(r){if(r.v===r.w){var n=e.node(r.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:r,label:e.edge(r)}),e.removeEdge(r)}})}function A1(e){var r=He.buildLayerMatrix(e);U.forEach(r,function(n){var t=0;U.forEach(n,function(a,i){var o=e.node(a);o.order=i+t,U.forEach(o.selfEdges,function(s){He.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:i+ ++t,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function S1(e){U.forEach(e.nodes(),function(r){var n=e.node(r);if(n.dummy==="selfedge"){var t=e.node(n.e.v),a=t.x+t.width/2,i=t.y,o=n.x-a,s=t.height/2;e.setEdge(n.e,n.label),e.removeNode(r),n.label.points=[{x:a+2*o/3,y:i-s},{x:a+5*o/6,y:i-s},{x:a+o,y:i},{x:a+5*o/6,y:i+s},{x:a+2*o/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})}function qs(e,r){return U.mapValues(U.pick(e,r),Number)}function Es(e){var r={};return U.forEach(e,function(n,t){r[t.toLowerCase()]=n}),r}var Yr=ee,C1=ve,O1=Ie.Graph,k1={debugOrdering:M1};function M1(e){var r=C1.buildLayerMatrix(e),n=new O1({compound:!0,multigraph:!0}).setGraph({});return Yr.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),Yr.forEach(e.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),Yr.forEach(r,function(t,a){var i="layer"+a;n.setNode(i,{rank:"same"}),Yr.reduce(t,function(o,s){return n.setEdge(o,s,{style:"invis"}),s})}),n}var P1="0.8.5",D1={graphlib:Ie,layout:a1,debug:k1,util:{time:ve.time,notime:ve.notime},version:P1};const Xr=jp(D1),{Map:L1}=ks;function bh(e,r,n){const t=e.slice();t[49]=r[n];const a=t[2].get(t[49].id);return t[50]=a,t}function Rs(e){const r=e.slice(),n=r[6].startX;r[53]=n;const t=r[6].startY;r[54]=t;const a=r[6].currentX;r[55]=a;const i=r[6].currentY;return r[56]=i,r}function yh(e,r,n){const t=e.slice();t[57]=r[n][0],t[58]=r[n][1];const a=t[2].get(t[57]);t[59]=a;const i=t[2].get(t[58]);t[60]=i;const o=t[8]&&t[8][0]===t[57]&&t[8][1]===t[58];t[61]=o;const s=t[9]&&t[9][0]===t[57]&&t[9][1]===t[58];return t[62]=s,t}function Is(e){const r=e.slice(),n=r[14](r[57],r[58]);return r[65]=n,r}function mh(e){let r,n,t,a,i,o,s;function u(){return e[30](e[61],e[57],e[58])}function c(){return e[31](e[61],e[57],e[58])}function f(...l){return e[32](e[57],e[58],e[61],...l)}function d(...l){return e[33](e[57],e[58],e[61],...l)}function h(){return e[34](e[57],e[58])}return{c(){r=We("path"),w(r,"d",n=e[65]),w(r,"stroke",t=e[61]?"#ff6b6b":"#4a90e2"),w(r,"stroke-width","12"),w(r,"fill","none"),w(r,"opacity",a=e[61]&&e[62]?"1":e[61]?"0.8":"0.7"),w(r,"marker-end",i=e[61]?"url(#arrowhead-selected)":"url(#arrowhead)"),be(r,"cursor","pointer"),be(r,"pointer-events","stroke"),w(r,"class","svelte-10n75ut")},m(l,v){ue(l,r,v),o||(s=[N(r,"click",u),N(r,"dblclick",c),N(r,"touchstart",Te(f)),N(r,"touchend",Te(d)),N(r,"mouseenter",h),N(r,"mouseleave",e[35]),N(r,"mousedown",Te(e[29]))],o=!0)},p(l,v){e=l,v[0]&32&&n!==(n=e[65])&&w(r,"d",n),v[0]&288&&t!==(t=e[61]?"#ff6b6b":"#4a90e2")&&w(r,"stroke",t),v[0]&800&&a!==(a=e[61]&&e[62]?"1":e[61]?"0.8":"0.7")&&w(r,"opacity",a),v[0]&288&&i!==(i=e[61]?"url(#arrowhead-selected)":"url(#arrowhead)")&&w(r,"marker-end",i)},d(l){l&&oe(r),o=!1,ge(s)}}}function wh(e){let r,n=e[59]&&e[60]&&mh(Is(e));return{c(){n&&n.c(),r=kr()},m(t,a){n&&n.m(t,a),ue(t,r,a)},p(t,a){t[59]&&t[60]?n?n.p(Is(t),a):(n=mh(Is(t)),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(t){t&&oe(r),n&&n.d(t)}}}function qh(e){let r,n;return{c(){r=We("path"),w(r,"d",n=Th(e[53],e[54],e[55],e[56])),w(r,"stroke","#4a90e2"),w(r,"stroke-width","2"),w(r,"stroke-dasharray","5,5"),w(r,"fill","none"),w(r,"opacity","0.7"),be(r,"pointer-events","none"),w(r,"class","svelte-10n75ut")},m(t,a){ue(t,r,a)},p(t,a){a[0]&64&&n!==(n=Th(t[53],t[54],t[55],t[56]))&&w(r,"d",n)},d(t){t&&oe(r)}}}function Eh(e){let r,n,t,a,i,o;return t=new Bh({props:{todo:e[49],isDrawingArrow:e[7],useTextarea:!0,dependencies:e[4].getDependencies(e[49].id),dependents:e[4].getDependents(e[49].id)}}),t.$on("arrowStart",e[15]),t.$on("arrowTarget",e[16]),t.$on("toggle",e[37]),t.$on("update",e[38]),t.$on("delete",e[39]),{c(){r=H("div"),n=H("div"),Dr(t.$$.fragment),a=ie(),w(n,"class","card-inner svelte-10n75ut"),w(r,"class","card-wrapper svelte-10n75ut"),w(r,"data-todo-id",i=e[49].id),be(r,"left",e[50].x+"px"),be(r,"top",e[50].y+"px")},m(s,u){ue(s,r,u),P(r,n),ur(t,n,null),P(r,a),o=!0},p(s,u){const c={};u[0]&8&&(c.todo=s[49]),u[0]&128&&(c.isDrawingArrow=s[7]),u[0]&24&&(c.dependencies=s[4].getDependencies(s[49].id)),u[0]&24&&(c.dependents=s[4].getDependents(s[49].id)),t.$set(c),(!o||u[0]&8&&i!==(i=s[49].id))&&w(r,"data-todo-id",i),(!o||u[0]&12)&&be(r,"left",s[50].x+"px"),(!o||u[0]&12)&&be(r,"top",s[50].y+"px")},i(s){o||(he(t.$$.fragment,s),o=!0)},o(s){ye(t.$$.fragment,s),o=!1},d(s){s&&oe(r),fr(t)}}}function Rh(e,r){let n,t,a,i=r[50]&&Eh(r);return{key:e,first:null,c(){n=kr(),i&&i.c(),t=kr(),this.first=n},m(o,s){ue(o,n,s),i&&i.m(o,s),ue(o,t,s),a=!0},p(o,s){r=o,r[50]?i?(i.p(r,s),s[0]&12&&he(i,1)):(i=Eh(r),i.c(),he(i,1),i.m(t.parentNode,t)):i&&(tn(),ye(i,1,1,()=>{i=null}),an())},i(o){a||(he(i),a=!0)},o(o){ye(i),a=!1},d(o){o&&(oe(n),oe(t)),i&&i.d(o)}}}function N1(e){let r,n,t,a,i,o=[],s=new L1,u,c,f,d=xe(e[5]),h=[];for(let g=0;g<d.length;g+=1)h[g]=wh(yh(e,d,g));let l=e[6]&&e[6].currentX!==void 0&&e[6].currentY!==void 0&&qh(Rs(e)),v=xe(e[3]);const p=g=>g[49].id;for(let g=0;g<v.length;g+=1){let _=bh(e,v,g),b=p(_);s.set(b,o[g]=Rh(b,_))}return{c(){r=H("div"),n=We("svg");for(let g=0;g<h.length;g+=1)h[g].c();t=kr(),l&&l.c(),a=ie(),i=H("div");for(let g=0;g<o.length;g+=1)o[g].c();w(n,"class","graph-svg svelte-10n75ut"),w(i,"class","cards-container svelte-10n75ut"),w(r,"class","graph-view svelte-10n75ut"),w(r,"role","application"),be(r,"touch-action","pan-y")},m(g,_){ue(g,r,_),P(r,n);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(n,null);P(n,t),l&&l.m(n,null),e[36](n),P(r,a),P(r,i);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(i,null);e[40](r),u=!0,c||(f=[N(window,"mousemove",e[17]),N(window,"mouseup",e[18]),N(window,"keydown",e[22]),N(r,"click",e[41]),N(r,"touchend",e[19],{passive:!0})],c=!0)},p(g,_){if(_[0]&3178276){d=xe(g[5]);let b;for(b=0;b<d.length;b+=1){const T=yh(g,d,b);h[b]?h[b].p(T,_):(h[b]=wh(T),h[b].c(),h[b].m(n,t))}for(;b<h.length;b+=1)h[b].d(1);h.length=d.length}g[6]&&g[6].currentX!==void 0&&g[6].currentY!==void 0?l?l.p(Rs(g),_):(l=qh(Rs(g)),l.c(),l.m(n,null)):l&&(l.d(1),l=null),_[0]&98460&&(v=xe(g[3]),tn(),o=Ms(o,_,p,1,g,v,s,i,Dh,Rh,null,bh),an())},i(g){if(!u){for(let _=0;_<v.length;_+=1)he(o[_]);u=!0}},o(g){for(let _=0;_<o.length;_+=1)ye(o[_]);u=!1},d(g){g&&oe(r),op(h,g),l&&l.d(),e[36](null);for(let _=0;_<o.length;_+=1)o[_].d();e[40](null),c=!1,ge(f)}}}const Ih=300;function Th(e,r,n,t){const a=(r+t)/2;return`M ${e} ${r} L ${e} ${a} L ${n} ${a} L ${n} ${t}`}function F1(e,r,n){let t,a,i,o,s,u,c;ir(e,ce,y=>n(27,u=y)),ir(e,le,y=>n(28,c=y));let f=null,d,h,l=!1,v=null,p=null,g=0,_=null,b=!1,T=!1,R=new Map,F=new Map,A=new Map;function I(y,E,G){if(!y||!E||E.length===0)return{positions:new Map,edgePaths:new Map};const S=new Xr.graphlib.Graph;S.setDefaultEdgeLabel(()=>({})),S.setGraph({rankdir:"TB",nodesep:50,ranksep:100,marginx:50,marginy:50});const L=333,X=80;E.forEach(z=>{const Q=(G==null?void 0:G.get(z.id))||X;S.setNode(z.id,{width:L,height:Q,label:z.id})}),y.getAllEdges().forEach(([z,Q])=>{S.setEdge(z,Q)}),Xr.layout(S);const se=new Map;S.nodes().forEach(z=>{const Q=S.node(z);se.set(z,{x:Q.x-Q.width/2,y:Q.y-Q.height/2,width:Q.width,height:Q.height,centerX:Q.x,centerY:Q.y})});const fe=new Map;return S.edges().forEach(z=>{const Q=S.edge(z);if(Q&&Q.points&&Q.points.length>0){let de=`M ${Q.points[0].x} ${Q.points[0].y}`;for(let _e=1;_e<Q.points.length;_e++)de+=` L ${Q.points[_e].x} ${Q.points[_e].y}`;fe.set([z.v,z.w].join("->"),de)}else{const de=se.get(z.v),_e=se.get(z.w);if(de&&_e){const Ur=de.centerX||de.x+de.width/2,Fe=de.y+de.height,Kr=_e.centerX||_e.x+_e.width/2,Hr=_e.y;fe.set([z.v,z.w].join("->"),`M ${Ur} ${Fe} L ${Kr} ${Hr}`)}}}),{positions:se,edgePaths:fe}}function C(){if(R.size===0||i.length===0)return;const y=new Xr.graphlib.Graph;y.setDefaultEdgeLabel(()=>({})),y.setGraph({rankdir:"TB",nodesep:50,ranksep:100,marginx:50,marginy:50});const E=333;t.forEach(S=>{const L=R.get(S.id);if(L){const X=A.get(S.id)||L.height||80;y.setNode(S.id,{width:E,height:X,label:S.id})}}),i.forEach(([S,L])=>{y.setEdge(S,L)}),Xr.layout(y);const G=new Map;y.edges().forEach(S=>{const L=y.edge(S);if(L&&L.points&&L.points.length>0){let X=`M ${L.points[0].x} ${L.points[0].y}`;for(let ne=1;ne<L.points.length;ne++)X+=` L ${L.points[ne].x} ${L.points[ne].y}`;G.set([S.v,S.w].join("->"),X)}else{const X=R.get(S.v),ne=R.get(S.w);if(X&&ne){const se=X.centerX||X.x+X.width/2,fe=X.y+X.height,z=ne.centerX||ne.x+ne.width/2,Q=ne.y;G.set([S.v,S.w].join("->"),`M ${se} ${fe} L ${z} ${Q}`)}}}),F=new Map(G)}function O(y,E){const G=[y,E].join("->"),S=F.get(G);if(S)return S;const L=R.get(y),X=R.get(E);if(!L||!X)return"";const ne=L.centerX||L.x+L.width/2,se=L.y+L.height,fe=X.centerX||X.x+X.width/2,z=X.y;return`M ${ne} ${se} L ${fe} ${z}`}function M(){if(!h)return new Map;const y=new Map;return t.forEach(E=>{const G=h.querySelector(`[data-todo-id="${E.id}"] .card-inner .todo-card`);if(G){const S=G.getBoundingClientRect();y.set(E.id,Math.max(80,S.height))}}),y}function m(y){if(!h)return;n(7,l=!0);const E=h.getBoundingClientRect();n(6,f={fromId:y.detail.todoId,startX:y.detail.x-E.left,startY:y.detail.y-E.top,targetId:null,currentX:y.detail.x-E.left,currentY:y.detail.y-E.top})}function B(y){f&&n(6,f.targetId=y.detail.todoId,f)}function W(){f&&f.targetId&&f.fromId!==f.targetId&&Zr.addDependency(f.fromId,f.targetId),n(6,f=null),n(7,l=!1)}function re(y){if(f&&h){const E=h.getBoundingClientRect();n(6,f.currentX=y.clientX-E.left,f),n(6,f.currentY=y.clientY-E.top,f)}}function x(){f&&W()}function k(){f&&W()}function K(y){n(8,v=y)}function $(){v&&(Zr.removeDependency(v[0],v[1]),n(8,v=null))}function qe(y){(y.key==="Backspace"||y.key==="Delete")&&v&&(y.preventDefault(),$())}Mh(()=>{if(a&&t){const y=I(a,t,A);n(2,R=y.positions),F=y.edgePaths,setTimeout(()=>{n(23,A=M());const E=I(a,t,A);n(2,R=E.positions),F=E.edgePaths},100)}});let Ne;function pr(y){cp.call(this,e,y)}const gr=(y,E,G)=>{K(y?null:[E,G])},_r=(y,E,G)=>{y?$():K([E,G])},br=(y,E,G,S)=>{S.preventDefault();const L=Date.now(),X=[y,E],ne=`${y}-${E}`,se=_?`${_[0]}-${_[1]}`:null;_&&ne===se&&L-g<Ih?(n(13,T=!0),b?$():K(X),n(10,g=0),n(11,_=null),n(12,b=!1)):(n(10,g=L),n(11,_=X),n(12,b=G))},yr=(y,E,G,S)=>{const L=[y,E],X=g,ne=_;setTimeout(()=>{g===X&&_&&ne&&_[0]===ne[0]&&_[1]===ne[1]&&(n(13,T=!0),K(G?null:L),n(10,g=0),n(11,_=null),n(12,b=!1))},Ih)},mr=(y,E)=>n(9,p=[y,E]),wr=()=>n(9,p=null);function qr(y){Ke[y?"unshift":"push"](()=>{d=y,n(0,d)})}const q=({detail:y})=>Me.toggleComplete(y.id),D=({detail:y})=>Me.update(y.id,{text:y.text}),Z=({detail:y})=>Me.remove(y.id);function Y(y){Ke[y?"unshift":"push"](()=>{h=y,n(1,h)})}const V=()=>n(8,v=null);return e.$$.update=()=>{if(e.$$.dirty[0]&268435456&&n(3,t=c),e.$$.dirty[0]&134217728&&n(4,a=u),e.$$.dirty[0]&16&&n(5,i=a?a.getAllEdges():[]),e.$$.dirty[0]&8388632&&a&&t){const y=I(a,t,A);n(2,R=new Map(y.positions)),F=new Map(y.edgePaths),setTimeout(()=>{const E=M();if(Array.from(E.entries()).some(([G,S])=>A.get(G)!==S)){n(23,A=new Map(E));const G=I(a,t,A);n(2,R=new Map(G.positions)),F=new Map(G.edgePaths),C()}},50)}if(e.$$.dirty[0]&25165850&&t.length>0&&h&&(Ne&&clearTimeout(Ne),n(24,Ne=setTimeout(()=>{const y=M();if(Array.from(y.entries()).some(([E,G])=>A.get(E)!==G)&&(n(23,A=new Map(y)),a)){const E=I(a,t,A);n(2,R=new Map(E.positions)),F=new Map(E.edgePaths),C()}},150))),e.$$.dirty[0]&4&&n(26,o=JSON.stringify(Array.from(R.entries()).map(([y,E])=>[y,E.x,E.y,E.height]))),e.$$.dirty[0]&8388608&&n(25,s=JSON.stringify(Array.from(A.entries()))),e.$$.dirty[0]&100663332&&R.size>0&&i.length>0&&C(),e.$$.dirty[0]&5&&R.size>0){const y=Math.max(...Array.from(R.values()).map(G=>G.x+G.width)),E=Math.max(...Array.from(R.values()).map(G=>G.y+G.height));d&&(d.setAttribute("width",Math.max(800,y+100)),d.setAttribute("height",Math.max(600,E+100)))}e.$$.dirty[0]&8&&t.length>0&&t.map(y=>`${y.id}:${y.text.length}`).join(",")},[d,h,R,t,a,i,f,l,v,p,g,_,b,T,O,m,B,re,x,k,K,$,qe,A,Ne,s,o,u,c,pr,gr,_r,br,yr,mr,wr,qr,q,D,Z,Y,V]}class j1 extends Nr{constructor(r){super(),Lr(this,r,F1,N1,sr,{},null,[-1,-1,-1])}}function G1(e){let r,n;return r=new j1({}),{c(){Dr(r.$$.fragment)},m(t,a){ur(r,t,a),n=!0},i(t){n||(he(r.$$.fragment,t),n=!0)},o(t){ye(r.$$.fragment,t),n=!1},d(t){fr(r,t)}}}function B1(e){let r,n;return r=new Fp({}),{c(){Dr(r.$$.fragment)},m(t,a){ur(r,t,a),n=!0},i(t){n||(he(r.$$.fragment,t),n=!0)},o(t){ye(r.$$.fragment,t),n=!1},d(t){fr(r,t)}}}function x1(e){let r,n,t,a,i,o,s,u,c,f,d,h,l,v,p,g,_,b,T,R,F,A,I,C,O,M,m,B,W;const re=[B1,G1],x=[];function k(K,$){return K[2]==="list"?0:1}return O=k(e),M=x[O]=re[O](e),{c(){r=H("div"),n=H("header"),n.innerHTML='<h1 class="svelte-183886v">ToDAG</h1> <p class="subtitle svelte-183886v">Todo App with Dependency Management</p>',t=ie(),a=H("div"),i=H("div"),o=H("input"),s=ie(),u=H("button"),u.textContent="Add",c=ie(),f=H("div"),d=H("button"),d.textContent="List View",h=ie(),l=H("button"),l.textContent="Graph View",v=ie(),p=H("div"),g=H("button"),_=or("Clear Completed"),T=ie(),R=H("button"),F=or("Delete All"),I=ie(),C=H("main"),M.c(),w(n,"class","svelte-183886v"),w(o,"type","text"),w(o,"placeholder","Add a new todo..."),w(o,"class","svelte-183886v"),w(u,"class","svelte-183886v"),w(i,"class","add-todo svelte-183886v"),w(d,"class","toggle-btn svelte-183886v"),te(d,"active",e[2]==="list"),w(l,"class","toggle-btn svelte-183886v"),te(l,"active",e[2]==="graph"),w(f,"class","view-toggle svelte-183886v"),w(g,"class","action-btn clear-btn svelte-183886v"),g.disabled=b=e[1].filter(Ah).length===0,w(R,"class","action-btn delete-btn svelte-183886v"),R.disabled=A=e[1].length===0,w(p,"class","action-buttons svelte-183886v"),w(a,"class","controls svelte-183886v"),w(C,"class","svelte-183886v"),w(r,"class","app svelte-183886v")},m(K,$){ue(K,r,$),P(r,n),P(r,t),P(r,a),P(a,i),P(i,o),iu(o,e[0]),P(i,s),P(i,u),P(a,c),P(a,f),P(f,d),P(f,h),P(f,l),P(a,v),P(a,p),P(p,g),P(g,_),P(p,T),P(p,R),P(R,F),P(r,I),P(r,C),x[O].m(C,null),m=!0,B||(W=[N(o,"input",e[7]),N(o,"keypress",e[4]),N(u,"click",e[3]),N(d,"click",e[8]),N(l,"click",e[9]),N(g,"click",e[5]),N(R,"click",e[6])],B=!0)},p(K,[$]){$&1&&o.value!==K[0]&&iu(o,K[0]),(!m||$&4)&&te(d,"active",K[2]==="list"),(!m||$&4)&&te(l,"active",K[2]==="graph"),(!m||$&2&&b!==(b=K[1].filter(Ah).length===0))&&(g.disabled=b),(!m||$&2&&A!==(A=K[1].length===0))&&(R.disabled=A);let qe=O;O=k(K),O!==qe&&(tn(),ye(x[qe],1,1,()=>{x[qe]=null}),an(),M=x[O],M||(M=x[O]=re[O](K),M.c()),he(M,1),M.m(C,null))},i(K){m||(he(M),m=!0)},o(K){ye(M),m=!1},d(K){K&&oe(r),x[O].d(),B=!1,ge(W)}}}const Ah=e=>e.completed;function U1(e,r,n){let t,a;ir(e,le,l=>n(1,t=l)),ir(e,Or,l=>n(2,a=l));let i="";function o(){i.trim()&&(Me.add(i.trim()),n(0,i=""))}function s(l){l.key==="Enter"&&o()}function u(){const l=t.filter(v=>v.completed).length;l!==0&&confirm(`Are you sure you want to delete ${l} completed item${l>1?"s":""}?`)&&Me.clearCompleted()}function c(){const l=t.length;l!==0&&confirm(`Are you sure you want to delete all ${l} item${l>1?"s":""}? This cannot be undone.`)&&Me.deleteAll()}function f(){i=this.value,n(0,i)}return[i,t,a,o,s,u,c,f,()=>Or.set("list"),()=>Or.set("graph")]}class K1 extends Nr{constructor(r){super(),Lr(this,r,U1,x1,sr,{})}}new K1({target:document.getElementById("app")});
